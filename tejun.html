<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xè‡ªå‹•æŠ•ç¨¿Bot æ§‹ç¯‰æ‰‹é †æ›¸</title>
  <style>
    /* å…¨ä½“ */
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --muted: #64748b;
      --accent: #2563eb;
      --accent-light: #eff6ff;
      --border: #e2e8f0;
      --radius: 12px;
      font-family: "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
      color-scheme: light;
    }
    html,body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: #0f1724;
    }
    .wrap {
      max-width: 940px;
      margin: 0 auto;
      padding: 30px 20px 100px; /* Footer space */
    }

    header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 30px;
    }
    .logo {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      background: #ffffff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color: var(--accent);
      border: 1px solid var(--border);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      font-size: 24px;
    }
    h1 { margin: 0; font-size: 24px; color: #1e293b; }
    .meta { color: var(--muted); font-size: 14px; margin-top: 4px; }

    /* ã‚¿ãƒ–ã‚·ã‚¹ãƒ†ãƒ  */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      border-bottom: 2px solid var(--border);
      padding-bottom: 0;
    }
    .tab-btn {
      padding: 12px 24px;
      font-weight: bold;
      font-size: 15px;
      border: none;
      background: none;
      cursor: pointer;
      color: var(--muted);
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
      margin-bottom: -2px;
    }
    .tab-btn:hover { color: var(--accent); }
    .tab-btn.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }
    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ã‚«ãƒ¼ãƒ‰ */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
      margin-bottom: 24px;
      position: relative;
    }
    .role-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 16px;
    }
    .role-satchin { background: #e0f2fe; color: #0369a1; }
    .role-engineer { background: #f3e8ff; color: #7e22ce; }

    h2 { margin: 0 0 16px 0; font-size: 20px; color: #1e293b; display: flex; align-items: center; gap: 8px; }
    h3 { margin: 28px 0 12px 0; font-size: 16px; border-left: 4px solid var(--accent); padding-left: 10px; color: #334155; }
    p { margin: 12px 0; line-height: 1.7; color: #475569; }
    ol, ul { margin: 12px 0 16px 24px; padding: 0; color: #475569; }
    li { margin: 8px 0; }
    strong { color: #1e293b; font-weight: 700; }
    
    /* ãƒ†ãƒ¼ãƒ–ãƒ« */
    table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 14px; }
    th,td { padding: 12px; border: 1px solid var(--border); text-align: left; }
    th { background: #f1f5f9; font-weight: 600; width: 30%; color: #334155; }

    /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ç³» */
    .input-group {
      background: #f8fafc;
      padding: 20px;
      border-radius: 8px;
      border: 1px dashed #cbd5e1;
      margin-top: 16px;
      transition: all 0.3s;
    }
    .input-group.filled {
      background: #f0fdf4;
      border-color: #86efac;
      border-style: solid;
    }
    .input-group label {
      display: block;
      font-weight: bold;
      font-size: 13px;
      margin-bottom: 8px;
      color: #475569;
    }
    .input-group input, .input-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      font-size: 14px;
      box-sizing: border-box;
      font-family: monospace;
    }
    .input-group textarea { height: 80px; resize: vertical; }
    .input-group input:focus, .input-group textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
    }
    .account-inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 12px;
    }

    /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ */
    pre {
      background: #1e293b;
      color: #f1f5f9;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 13px;
      margin: 16px 0;
    }
    code {
      background: #f1f5f9;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.9em;
      color: #0f1724;
    }

    /* ãƒœã‚¿ãƒ³ */
    .btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      font-size: 14px;
      transition: background 0.2s;
    }
    .btn:hover { background: #1d4ed8; }
    .btn-copy { font-size: 12px; padding: 4px 12px; margin-left: 8px; flex-shrink: 0; white-space: nowrap; }

    /* å¼•ç¶™ãã‚¨ãƒªã‚¢ */
    .handover-area {
      background: #1e293b;
      border-radius: 8px;
      padding: 24px;
      color: white;
      margin-top: 20px;
    }
    .handover-area h3 { color: white; border-color: #475569; margin-top: 0; }
    .handover-area textarea {
      background: #0f1724;
      color: #4ade80;
      border: 1px solid #334155;
    }

    /* Secretsãƒªã‚¹ãƒˆ */
    .secret-item {
      display: flex;
      align-items: center;
      background: #fff;
      border: 1px solid var(--border);
      border-bottom: none;
      padding: 12px;
    }
    .secret-item:last-child { border-bottom: 1px solid var(--border); }
    .secret-item:first-child { border-radius: 8px 8px 0 0; }
    .secret-item:last-child { border-radius: 0 0 8px 8px; }
    
    .secret-info { flex: 1; }
    .secret-key { font-weight: bold; font-size: 14px; color: var(--accent); font-family: monospace; }
    .secret-val-wrap { display: flex; gap: 8px; margin-top: 4px; }
    .secret-val-wrap input { 
      flex: 1; 
      background: #f8fafc; 
      border: 1px solid #e2e8f0; 
      padding: 4px 8px; 
      border-radius: 4px; 
      font-family: monospace;
      font-size: 12px;
      color: #64748b;
    }

    /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ */
    .status-bar {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 300px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      padding: 16px;
      z-index: 1000;
      border: 1px solid var(--border);
      display: none; /* JSã§è¡¨ç¤ºåˆ¶å¾¡ */
    }
    .status-bar.visible { display: block; animation: slideIn 0.3s ease; }
    @keyframes slideIn { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }
    
    .status-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .status-title { font-weight: bold; font-size: 14px; color: #1e293b; }
    .status-percent { font-weight: bold; font-size: 14px; color: var(--accent); }
    
    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ */
    .progress-container { position: relative; margin-bottom: 12px; height: 24px; }
    .progress-bg { 
      position: absolute; bottom: 0; left: 0;
      width: 100%; height: 6px; background: #f1f5f9; border-radius: 3px; overflow: visible; 
    }
    .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.5s ease; border-radius: 3px; }
    
    /* èµ°ã‚‹çŠ¬ */
    .runner {
      position: absolute;
      bottom: 6px; /* ãƒãƒ¼ã®ä¸Š */
      left: 0%;
      transform: translateX(-50%);
      transition: left 0.5s ease;
      font-size: 24px;
      line-height: 1;
      animation: bounce 0.5s infinite alternate;
      z-index: 2;
    }
    /* ã‚´ãƒ¼ãƒ« */
    .goal {
      position: absolute;
      right: 0;
      bottom: 6px;
      font-size: 24px;
      line-height: 1;
      transform: translateX(50%);
      z-index: 1;
    }

    @keyframes bounce { from { transform: translateX(-50%) translateY(0); } to { transform: translateX(-50%) translateY(-4px); } }
    @keyframes pop { 0% { transform: translateX(50%) scale(1); } 50% { transform: translateX(50%) scale(1.4); } 100% { transform: translateX(50%) scale(1); } }
    
    .status-msg { font-size: 12px; color: var(--muted); margin-bottom: 8px; }
    .missing-list { font-size: 11px; color: #ef4444; max-height: 80px; overflow-y: auto; }
    .missing-item { margin-bottom: 2px; display: flex; align-items: center; gap: 4px; }
    .missing-item::before { content: "â€¢"; }

    /* ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ (ã‚¹ã‚¿ã‚¤ãƒ«ã®çµ±ä¸€ç”¨) */
    .text-danger { color: #e11d48; font-weight: 700; }
    .text-success { color: #059669; font-weight: 700; }
    .text-highlight { color: #4ade80; }
    .text-warn { color: #fcd34d; }
    .text-sm { font-size: 13px; }
    
    .mt-4 { margin-top: 16px; }
    .mt-6 { margin-top: 24px; }
    .mb-2 { margin-bottom: 8px; }
    
    /* ãƒãƒ¼ãƒˆï¼ˆé€šå¸¸ãƒ»è­¦å‘Šï¼‰ */
    .note {
      background: #fffbeb;
      border-left: 4px solid #f59e0b;
      padding: 12px 16px;
      color: #92400e;
      font-size: 14px;
      margin: 16px 0;
      border-radius: 0 4px 4px 0;
    }
    .note.danger {
      background: #fef2f2;
      border-left-color: #ef4444;
      color: #991b1b;
    }

    /* ã‚³ãƒãƒ³ãƒ‰ãƒ­ã‚°è¡¨ç¤ºç”¨ */
    .code-log {
      font-size: 12px;
      line-height: 1.4;
      background: #1e293b;
      color: #cbd5e1;
      padding: 16px;
      border-radius: 8px;
      margin: 12px 0 16px 0;
      font-family: 'SFMono-Regular', Consolas, monospace;
      border: 1px solid #334155;
    }
    .code-log .cmd { color: #e2e8f0; font-weight: bold; }
    .code-log .comment { color: #94a3b8; }
    .code-log .highlight { color: #4ade80; font-weight: bold; }
    .code-log .warn { color: #fcd34d; }

    @media (max-width: 600px) {
      .account-inputs { grid-template-columns: 1fr; }
      .secret-item { flex-direction: column; align-items: stretch; gap: 8px; }
      .status-bar { left: 20px; width: auto; }
    }
  </style>
</head>
<body>

  <div class="wrap">
    <header>
      <div class="logo">X</div>
      <div>
      <h1>Xè‡ªå‹•æŠ•ç¨¿Bot æ§‹ç¯‰æ‰‹é †æ›¸</h1>
      <div class="meta">Ver 3.2 - Role Based Manual</div>
      </div>
    </header>

  <div class="tabs">
    <button class="tab-btn active" onclick="showTab('satchin')">ğŸ‘©â€ğŸ’¼ ã•ã£ã¡ã‚“æ§˜ç”¨ (å…¥åŠ›ãƒ»ç”³è«‹)</button>
    <button class="tab-btn" onclick="showTab('engineer')">ğŸ‘¨â€ğŸ’» ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ (æ§‹ç¯‰ãƒ»è¨­å®š)</button>
    <button class="tab-btn" onclick="showTab('operation')">ğŸ“ é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«</button>
  </div>

  <!-- ==========================================
       ã•ã£ã¡ã‚“æ§˜ç”¨ã‚¿ãƒ–
       ========================================== -->
  <div id="tab-satchin" class="tab-content active">
    
    <div class="note">
      <strong>ã¯ã˜ã‚ã«:</strong><br>
      ã“ã®ã‚¿ãƒ–ã®æ‰‹é †ã‚’ä¸Šã‹ã‚‰é †ã«é€²ã‚ã¦ãã ã•ã„ã€‚å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚<br>
      å³ä¸‹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã§é€²æ—ã‚’ç¢ºèªã§ãã¾ã™ã€‚
    </div>

    <!-- Phase 1: MLä½œæˆ -->
    <div class="card" id="step-ml">
      <span class="role-badge role-satchin">Step 1</span>
      <h2>ç®¡ç†ç”¨ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆMLï¼‰ã®ä½œæˆä¾é ¼</h2>
      <p>Botã®ç®¡ç†æ¨©é™ã‚’æŒã¤ãŸã‚ã®ã€Œãƒãƒ¼ãƒ ï¼ˆãƒ¡ãƒ¼ãƒªãƒ³ã‚°ãƒªã‚¹ãƒˆï¼‰ã€ã‚’ä½œã‚Šã¾ã™ã€‚<br>
      ç¤¾å†…ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¢ã‚¤ãƒ•ãƒ­ãƒ¼ç­‰ï¼‰ã‹ã‚‰ã€<strong>ãªã¿ã£ã´ã‚‡ï¼ˆInfraæ‹…å½“ï¼‰</strong> ã¸ä½œæˆã‚’ä¾é ¼ã—ã¦ãã ã•ã„ã€‚</p>
      
      <p><strong>ã€ç”¨é€”ã€‘</strong><br>
      GCPï¼ˆGoogle Cloudï¼‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†è€…ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚<br>
      ã“ã‚Œã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®å€‹äººã§ã¯ãªããƒãƒ¼ãƒ ã§Botã‚’ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>

      <table>
        <tr><th>ç”³è«‹é …ç›®</th><th>å†…å®¹</th></tr>
        <tr><td>MLã‚¢ãƒ‰ãƒ¬ã‚¹å</td><td>ä¾‹: <code>x-auto-post-admin@cocoloni.com</code></td></tr>
        <tr><td>ç”¨é€”</td><td>Xè‡ªå‹•æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã‚°ãƒ«ãƒ¼ãƒ—</td></tr>
        <tr><td>ãƒ¡ãƒ³ãƒãƒ¼</td><td><strong>ã•ã£ã¡ã‚“ã•ã‚“</strong> / <strong>ãªã¿ã£ã´ã‚‡</strong> / ãã®ä»–é–¢ä¿‚è€…</td></tr>
      </table>
      
      <div class="input-group">
        <label>â–¼ ä½œæˆã•ã‚ŒãŸMLã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</label>
        <input type="text" id="ml_address" placeholder="ä¾‹: x-auto-post-admin@cocoloni.com" data-required="MLã‚¢ãƒ‰ãƒ¬ã‚¹" />
      </div>
    </div>

    <!-- Phase 2: GCPè¨­å®š -->
    <div class="card" id="step-gcp">
      <span class="role-badge role-satchin">Step 2</span>
      <h2>Google Cloud (GCP) ã®è¨­å®š</h2>
      <p>Botã®å®Ÿä½“ã¨ãªã‚‹ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã¨ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚’ä½œæˆã—ã¾ã™ã€‚</p>

      <h3>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã¨æ¨©é™ä»˜ä¸</h3>
      <ol>
        <li><a href="https://console.cloud.google.com/" target="_blank">Google Cloud Console</a> ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ <code>x-auto-post-system</code> ã‚’ä½œæˆã—ã¾ã™ã€‚ï¼ˆçµ„ç¹”: cocoloni.comï¼‰</li>
        <li><strong>IAMã¨ç®¡ç† > IAM</strong> ã§ã€å…ˆã»ã©ä½œã£ãŸ <strong>MLã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã‚’è¿½åŠ ã—ã€ãƒ­ãƒ¼ãƒ«ã« <strong>ã‚ªãƒ¼ãƒŠãƒ¼</strong> ã‚’ä»˜ä¸ã—ã¾ã™ã€‚</li>
      </ol>

      <h3>2. APIæœ‰åŠ¹åŒ–ã¨Botã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ</h3>
      <ol>
        <li>æ¤œç´¢ãƒãƒ¼ã§ <strong>Google Sheets API</strong> ã¨ <strong>Google Drive API</strong> ã‚’æ¤œç´¢ã—ã€ãã‚Œãã‚Œæœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚</li>
        <li><strong>IAMã¨ç®¡ç† > ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong> ã§ <code>x-post-bot</code> ã¨ã„ã†åå‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</li>
        <li>ä½œæˆã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® <strong>ã‚­ãƒ¼</strong> ã‚¿ãƒ–ã‹ã‚‰ <strong>JSONã‚­ãƒ¼</strong> ã‚’æ–°è¦ä½œæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</li>
      </ol>
      
      <div class="input-group">
        <label>â–¼ Service Account JSON (ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’å…¨è²¼ã‚Šä»˜ã‘)</label>
        <textarea id="gcp_json" placeholder='{ "type": "service_account", ... }' data-required="GCP JSONã‚­ãƒ¼"></textarea>
        
        <label class="mt-4">â–¼ Botã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (x-post-bot@...)</label>
        <input type="text" id="bot_email" placeholder="x-post-bot@project-id.iam.gserviceaccount.com" data-required="Botãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" />
      </div>
    </div>

    <!-- Phase 3: Drive/Sheet -->
    <div class="card" id="step-sheet">
      <span class="role-badge role-satchin">Step 3</span>
      <h2>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¨ç”»åƒã®æº–å‚™</h2>
      
      <h3>1. ãƒ•ã‚©ãƒ«ãƒ€ã¨ã‚·ãƒ¼ãƒˆã®ä½œæˆ</h3>
      <ol>
        <li>Google Driveã«ã€ŒXæŠ•ç¨¿ç”¨ç”»åƒã€ãƒ•ã‚©ãƒ«ãƒ€ã¨ã€ã€ŒXæŠ•ç¨¿ç®¡ç†è¡¨ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</li>
        <li>ä¸¡æ–¹ã¨ã‚‚ã€<strong>Botã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã«å¯¾ã—ã¦å…±æœ‰è¨­å®šï¼ˆç·¨é›†è€…æ¨©é™ï¼‰ã‚’è¡Œã„ã¾ã™ã€‚</li>
        <li>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®1è¡Œç›®ã«ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½œæˆã—ã¾ã™: <br>
          <code>id</code>, <code>æ—¥ä»˜</code>, <code>æ™‚é–“</code>, <code>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</code>, <code>ãƒ†ã‚­ã‚¹ãƒˆ</code>, <code>ç”»åƒ</code>, <code>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</code>
        </li>
      </ol>
      
      <div class="input-group">
        <label>â–¼ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®URL</label>
        <input type="text" id="sheet_url" placeholder="https://docs.google.com/spreadsheets/d/..." data-required="ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆURL" />
      </div>

      <h3>2. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®å…¥åŠ›</h3>
      <p>å‹•ä½œç¢ºèªã®ãŸã‚ã€ä»¥ä¸‹ã®å†…å®¹ã§1è¡Œãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</p>
      <table class="text-sm">
        <tr><th>é …ç›®</th><th>å…¥åŠ›å€¤</th></tr>
        <tr><td>æ—¥ä»˜ / æ™‚é–“</td><td>ä»Šæ—¥ã®æ—¥ä»˜ / ç¾åœ¨ã‚ˆã‚Šå‰ã®æ™‚é–“</td></tr>
        <tr><td>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</td><td>ä»»æ„ã®æ–‡å­— (ãƒ†ã‚¹ãƒˆæ™‚ã¯ç„¡è¦–ã•ã‚Œã¾ã™)</td></tr>
        <tr><td>ãƒ†ã‚­ã‚¹ãƒˆ</td><td>ãƒ†ã‚¹ãƒˆæŠ•ç¨¿ã§ã™ #test</td></tr>
        <tr><td>ç”»åƒ</td><td>Google Driveå†…ã®ç”»åƒURLï¼ˆå…±æœ‰ãƒªãƒ³ã‚¯ï¼‰</td></tr>
        <tr><td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</td><td><strong>ç¢ºèªå¾…ã¡</strong></td></tr>
      </table>
      <p class="note">â€»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã€Œç¢ºèªå¾…ã¡ã€ã«ã—ã¦ãŠãã“ã¨ã§ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒãƒ†ã‚¹ãƒˆå®Ÿè¡Œã—ãŸéš›ã«ã€ãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸æŠ•ç¨¿ã•ã‚Œã¾ã™ã€‚</p>
    </div>

    <!-- Phase 4: X Account -->
    <div class="card" id="step-x">
      <span class="role-badge role-satchin">Step 4</span>
      <h2>X (Twitter) ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æº–å‚™</h2>
      
      <h3>1. ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã®ç”¨æ„</h3>
      <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒèªè¨¼ä½œæ¥­ã‚’è¡Œã†ãŸã‚ã€å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
      <div class="input-group">
        <div class="account-inputs">
          <input type="text" id="acc_a_id" placeholder="ãƒãƒ£ãƒ—ãƒª ID" data-required="ãƒãƒ£ãƒ—ãƒª ID" />
          <input type="text" id="acc_a_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="ãƒãƒ£ãƒ—ãƒª PW" />
        </div>
        <div class="account-inputs">
          <input type="text" id="acc_b_id" placeholder="ãƒ­ãƒãƒŸãƒŸ ID" data-required="ãƒ­ãƒãƒŸãƒŸ ID" />
          <input type="text" id="acc_b_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="ãƒ­ãƒãƒŸãƒŸ PW" />
        </div>
        <div class="account-inputs">
          <input type="text" id="acc_test_id" placeholder="ãƒ†ã‚¹ãƒˆç”¨ ID" data-required="ãƒ†ã‚¹ãƒˆç”¨ ID" />
          <input type="text" id="acc_test_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="ãƒ†ã‚¹ãƒˆç”¨ PW" />
        </div>
      </div>

      <h3>2. API Keyã®å–å¾—ã¨ã‚¢ãƒ—ãƒªè¨­å®š</h3>
      <p>Developer Portal ã§ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã€æ¨©é™è¨­å®šã‚’è¡Œã£ã¦ã‹ã‚‰Keyã‚’å–å¾—ã—ã¾ã™ã€‚<br>
      <small>â€»ã“ã“ãŒå°‘ã—è¤‡é›‘ãªã®ã§ã€æ‰‹é †é€šã‚Šã«é€²ã‚ã¦ãã ã•ã„ã€‚</small></p>

      <ol>
        <li><a href="https://developer.twitter.com/en/portal/dashboard" target="_blank">Developer Portal</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚</li>
        <li>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® <strong>Projects & Apps</strong> ã‹ã‚‰ã‚¢ãƒ—ãƒªï¼ˆã¾ãŸã¯Projectï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>
        <small>â€»åˆã‚ã¦ã®å ´åˆã¯ "Create Project" â†’ "Create App" ã¨é€²ã¿ã¾ã™ã€‚åå‰ã¯é©å½“ã§OKã§ã™ã€‚</small></li>
        
        <li class="mt-4"><strong>User authentication settings (èªè¨¼è¨­å®š)</strong> ã‚’è¡Œã„ã¾ã™:
          <ul>
            <li>ã‚¢ãƒ—ãƒªã®è¨­å®šç”»é¢ã§ <strong>User authentication settings</strong> ã® <strong>Edit</strong> (ã¾ãŸã¯ Set up) ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
            <li><strong>App permissions</strong>: <strong class="text-danger">Read and write</strong> ã‚’é¸æŠã—ã¾ã™ã€‚<br>
            <small>â€»ã“ã‚ŒãŒãªã„ã¨æŠ•ç¨¿ã§ãã¾ã›ã‚“ã€‚</small></li>
            <li><strong>Type of App</strong>: <strong>Web App, Automated App or Bot</strong> ã‚’é¸æŠã€‚</li>
            <li><strong>App info</strong>:
              <ul>
                <li>Callback URI / Redirect URL: <code>http://127.0.0.1:3000/callback</code> <span class="text-danger">â€»ä¸€å­—ä¸€å¥æ­£ç¢ºã«ï¼</span></li>
                <li>Website URL: <code>https://twitter.com</code> (ä½•ã§ã‚‚OK)</li>
              </ul>
            </li>
            <li><strong>Save</strong> ã‚’æŠ¼ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚</li>
          </ul>
        </li>

        <li class="mt-4"><strong>Keys and tokens</strong> ã‚¿ãƒ–ã‚’é–‹ãã¾ã™:
          <ul>
            <li><strong>Consumer Keys</strong> ã®æ¨ªã«ã‚ã‚‹ <strong>Regenerate</strong> (ã¾ãŸã¯ Generate) ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
            <li>è¡¨ç¤ºã•ã‚ŒãŸ <strong>API Key</strong> ã¨ <strong>API Key Secret</strong> ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä»¥ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚<br>
            <small>â€»Access Tokenã‚„Bearer Tokenã¯ã“ã“ã§ã¯ä½¿ã„ã¾ã›ã‚“ã€‚</small></li>
          </ul>
        </li>
      </ol>

      <div class="input-group">
        <label>â–¼ API Key</label>
        <input type="text" id="x_api_key" placeholder="API Key (25æ–‡å­—ãã‚‰ã„)" class="mb-2" data-required="X API Key" />
        <label>â–¼ API Key Secret</label>
        <input type="text" id="x_api_secret" placeholder="API Key Secret (50æ–‡å­—ãã‚‰ã„)" data-required="X API Secret" />
      </div>
    </div>

    <!-- Phase 5: GitHub Account -->
    <div class="card" id="step-github">
      <span class="role-badge role-satchin">Step 5</span>
      <h2>GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ</h2>
      <p>ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã¨ã€Œç®±ï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰ã€ã‚’ä½œæˆã—ã¾ã™ã€‚<br>
      MLã‚¢ãƒ‰ãƒ¬ã‚¹ã§ç™»éŒ²ã™ã‚‹ãŸã‚ã€ã•ã£ã¡ã‚“ã•ã‚“ãŒå®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚</p>

      <h3>1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ</h3>
      <p>ä»¥ä¸‹ã®æ‰‹é †ã§ã€ç”»é¢ã®æŒ‡ç¤ºã«å¾“ã£ã¦å…¥åŠ›ã‚’é€²ã‚ã¦ãã ã•ã„ã€‚</p>
      <ol>
        <li><a href="https://github.com/signup" target="_blank">GitHub Signup (ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆç”»é¢)</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚</li>
        
        <li class="mt-4"><strong>Enter your email (ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹)</strong><br>
          Step 1ã§ä½œæˆã—ãŸ <strong>MLã®ã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã‚’å…¥åŠ›ã—ã¦ <code>Continue</code> ã‚’æŠ¼ã—ã¾ã™ã€‚<br>
          <small>ä¾‹: <code>x-auto-post-admin@cocoloni.com</code></small>
        </li>

        <li class="mt-4"><strong>Create a password (ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰)</strong><br>
          Botç®¡ç†ç”¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ±ºã‚ã¦å…¥åŠ›ã—ã€<code>Continue</code> ã‚’æŠ¼ã—ã¾ã™ã€‚<br>
          <span class="text-danger">â€»å¾Œã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å…±æœ‰ã™ã‚‹ãŸã‚ã€å¿˜ã‚Œãªã„ã‚ˆã†ã«ä¸‹ã®å…¥åŠ›æ¬„ã«æ§ãˆã¦ãã ã•ã„ã€‚</span>
        </li>
        
        <li class="mt-4"><strong>Enter a username (ãƒ¦ãƒ¼ã‚¶ãƒ¼å)</strong><br>
          Botã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’æ±ºã‚ã¦å…¥åŠ›ã—ã€<code>Continue</code> ã‚’æŠ¼ã—ã¾ã™ã€‚<br>
          ä¾‹: <code>cocoloni-x-bot-2025</code> ã‚„ <code>cp-rb-bot</code> ãªã©<br>
          <small>â€»ã€ŒUsername is availableã€ã¨ç·‘è‰²ã«ãªã‚Œã°OKã§ã™ã€‚ã€Œnot availableã€ã®å ´åˆã¯æ•°å­—ãªã©ã‚’è¶³ã—ã¦ãã ã•ã„ã€‚</small>
        </li>

        <li class="mt-4"><strong>Email preferences</strong><br>
          ã€ŒReceive product updates...ã€ã®ãƒã‚§ãƒƒã‚¯ã¯å¤–ã—ã¦ï¼ˆç©ºæ¬„ã®ã¾ã¾ï¼‰ <code>Continue</code> ã‚’æŠ¼ã—ã¾ã™ã€‚
        </li>
        
        <li class="mt-4"><strong>Verify account (æ¤œè¨¼)</strong><br>
          ã€ŒVerifyã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ï¼ˆçŸ¢å°ã§å‹•ç‰©ã®å‘ãã‚’åˆã‚ã›ã‚‹ç­‰ï¼‰ã€<code>Create account</code> ã‚’æŠ¼ã—ã¾ã™ã€‚
        </li>
        
        <li class="mt-4"><strong>Enter code (èªè¨¼ã‚³ãƒ¼ãƒ‰)</strong><br>
          MLã®ã‚¢ãƒ‰ãƒ¬ã‚¹å®›ã«ã€ŒGitHubã€ã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚<br>
          ãƒ¡ãƒ¼ãƒ«å†…ã®æ•°å­—ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦å®Œäº†ã§ã™ã€‚
        </li>
      </ol>

      <div class="input-group">
        <label>â–¼ ç™»éŒ²ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
        <input type="text" id="github_email" placeholder="ç™»éŒ²ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (ML)" class="mb-2" data-required="GitHubãƒ¡ãƒ¼ãƒ«" />
        <label>â–¼ è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å…±æœ‰ç”¨)</label>
        <input type="text" id="github_pw" placeholder="è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" data-required="GitHubãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" />
      </div>

      <h3>2. ãƒªãƒã‚¸ãƒˆãƒªï¼ˆç®±ï¼‰ã®ä½œæˆ</h3>
      <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã‚‹ãŸã‚ã®ç®±ï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>
      <ol>
        <li>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ç”»é¢å³ä¸Šã«ã‚ã‚‹ <strong>ã€Œï¼‹ã€ã‚¢ã‚¤ã‚³ãƒ³</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>New repository</strong> ã‚’é¸ã³ã¾ã™ã€‚</li>
        <li class="mt-4"><strong>Repository name</strong><br>
        <code>x-auto-post</code> ã¨å…¥åŠ›ã—ã¾ã™ã€‚<br>
        <small>â€»ç·‘è‰²ã®ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ãŒå‡ºã‚Œã°OKã§ã™ã€‚</small></li>
        
        <li class="mt-4"><strong>Public / Private</strong><br>
        å¿…ãš <strong class="text-danger">Private</strong> (éµãƒãƒ¼ã‚¯ã®æ–¹) ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚<br>
        <span class="text-danger">â€»Publicã«ã™ã‚‹ã¨ç¤¾å¤–ã«å…¨å…¬é–‹ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</span></li>
        
        <li class="mt-4"><strong>Create repository</strong><br>
        ç”»é¢ä¸€ç•ªä¸‹ã®ç·‘è‰²ã®ãƒœã‚¿ãƒ³ <code>Create repository</code> ã‚’æŠ¼ã—ã¦å®Œäº†ã§ã™ã€‚</li>
        
        <li class="mt-4"><strong>URLã®ã‚³ãƒ”ãƒ¼</strong><br>
        ä½œæˆå¾Œã®ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹URL (ä¾‹: <code>https://github.com/.../x-auto-post.git</code>) ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ä»¥ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>
        <small>â€» "Quick setup" ã¨ã„ã†æ ã®ä¸­ã«ã‚ã‚‹HTTPSã®URLã§ã™ã€‚</small></li>
      </ol>

      <div class="input-group">
        <label>â–¼ ä½œæˆã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªURL</label>
        <input type="text" id="repo_url" placeholder="https://github.com/ãƒ¦ãƒ¼ã‚¶ãƒ¼å/x-auto-post.git" data-required="ãƒªãƒã‚¸ãƒˆãƒªURL" />
      </div>

      <h3>3. é–‹ç™ºç”¨ãƒˆãƒ¼ã‚¯ãƒ³ã®ç™ºè¡Œ</h3>
      <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã€Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä»£ã‚ã‚Šã®éµã€ã‚’ç™ºè¡Œã—ã¾ã™ã€‚</p>
      <ol>
        <li>ç”»é¢å³ä¸Šã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Settings</strong> ã‚’é¸ã³ã¾ã™ã€‚</li>
        <li>å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä¸€ç•ªä¸‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€<strong>Developer settings</strong> ã‚’é–‹ãã¾ã™ã€‚</li>
        <li>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® <strong>Personal access tokens</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>Tokens (classic)</strong> ã‚’é¸ã³ã¾ã™ã€‚</li>
        <li>ç”»é¢å³ä¸Šã® <strong>Generate new token</strong> ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€<strong>Generate new token (classic)</strong> ã‚’é¸ã³ã¾ã™ã€‚</li>
        
        <li class="mt-4"><strong>Note</strong><br>
        ä½•ã®ãŸã‚ã®éµã‹ã‚ã‹ã‚‹ã‚ˆã†ã« <code>upload-key</code> ã¨å…¥åŠ›ã—ã¾ã™ã€‚</li>
        
        <li class="mt-4"><strong>Expiration (æœ‰åŠ¹æœŸé™)</strong><br>
        ã€Œ30 daysã€ã«ãªã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€<strong>No expiration</strong> (ç„¡æœŸé™) ã«å¤‰æ›´ã—ã¾ã™ã€‚</li>
        
        <li class="mt-4"><strong>Select scopes</strong><br>
        ä¸€ç•ªä¸Šã® <strong>repo</strong> (Full control of private repositories) ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã™ã€‚<br>
        <small>â€»ã“ã‚Œã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œãªã„ã¨ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã›ã‚“ã€‚</small></li>
        
        <li class="mt-4"><strong>Generate token</strong><br>
        ç”»é¢ä¸€ç•ªä¸‹ã®ç·‘è‰²ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        
        <li class="mt-4"><strong>ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚³ãƒ”ãƒ¼</strong><br>
        <code>ghp_</code> ã‹ã‚‰å§‹ã¾ã‚‹é•·ã„æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒ”ãƒ¼ã—ã¦ä»¥ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>
        <span class="text-danger">â€»ã“ã®ç”»é¢ã‚’é–‰ã˜ã‚‹ã¨äºŒåº¦ã¨è¡¨ç¤ºã•ã‚Œãªã„ã®ã§ã€å¿…ãšä»Šã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ï¼</span></li>
      </ol>

      <div class="input-group">
        <label>â–¼ ç™ºè¡Œã•ã‚ŒãŸGitHubãƒˆãƒ¼ã‚¯ãƒ³ (ghp_...)</label>
        <input type="text" id="github_token" placeholder="ghp_xxxxxxxxxxxx" data-required="GitHubãƒˆãƒ¼ã‚¯ãƒ³" />
      </div>
    </div>

    <!-- Phase 6: Handover -->
    <div class="card handover-area">
      <span class="role-badge role-satchin" style="background:white; color:#1e293b;">Last Step</span>
      <h2 style="color:white;">ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¸ã®å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</h2>
      <p style="color:#cbd5e1;">ã“ã“ã¾ã§å…¥åŠ›ã—ãŸæƒ…å ±ï¼ˆXã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã€API Keyã€GCPè¨­å®šå€¤ãªã©ï¼‰ãŒä»¥ä¸‹ã«è‡ªå‹•çš„ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚<br>
      <strong>ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«ç­‰ã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«é€ä»˜ã—ã¦ãã ã•ã„ã€‚</strong><br>
      <small>â€»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦è¨­å®šä½œæ¥­ã‚’è¡Œã„ã¾ã™ã€‚</small></p>
      
      <textarea id="handover_data" style="width:100%; height:200px;" readonly></textarea>
      <div class="mt-4">
        <button class="btn" onclick="copyHandoverData()">ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div>

  </div><!-- End satchin tab -->


  <!-- ==========================================
       ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ã‚¿ãƒ–
       ========================================== -->
  <div id="tab-engineer" class="tab-content">
    
    <div class="card" style="background:#1e293b; border-color:#334155; color:white;">
      <h2 style="color:white;">ğŸ”§ å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã®èª­è¾¼</h2>
      <p style="color:#cbd5e1;">ã•ã£ã¡ã‚“ã•ã‚“ã‹ã‚‰å—é ˜ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>
      è‡ªå‹•çš„ã«å…¥åŠ›æ¬„ã¸åæ˜ ã•ã‚Œã¾ã™ã€‚</p>
      <textarea id="import_data" placeholder="ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘..." style="width:100%; height:100px; background:#0f1724; border:1px solid #334155; color:#4ade80; padding:10px; border-radius:6px; font-family:monospace;"></textarea>
      <button class="btn" style="margin-top:12px;" onclick="importHandoverData()">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€</button>
    </div>

    <div class="card">
      <span class="role-badge role-engineer">Step 1</span>
      <h2>ã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…ã¨Push</h2>
      
      <p>ã•ã£ã¡ã‚“ã•ã‚“ãŒä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã«ã€Botã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</p>

      <h3>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™ã¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®</h3>
      <pre><code># ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir x-auto-post && cd x-auto-post
git init

# ä»¥ä¸‹ã®æ§‹æˆã«ãªã‚‹ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„
x-auto-post/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ manual-test-post.yml
â”‚       â””â”€â”€ scheduled-post.yml
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ post_to_x_api.js
â””â”€â”€ get_twitter_tokens.js</code></pre>

      <div style="margin-bottom:20px;">
        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ package.json</summary>
          <pre><code>{
  "name": "x-auto-post",
  "version": "2.0.0",
  "description": "X (Twitter) è‡ªå‹•æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ",
  "main": "post_to_x_api.js",
  "scripts": {
    "start": "node post_to_x_api.js check",
    "test-post": "node post_to_x_api.js test",
    "get-tokens": "node get_twitter_tokens.js"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "dotenv": "^16.3.1",
    "googleapis": "^128.0.0",
    "twitter-api-v2": "^1.28.0"
  },
  "devDependencies": {
    "@types/node": "^20.10.0"
  }
}</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .gitignore</summary>
          <pre><code>node_modules/
.env
.DS_Store</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ post_to_x_api.js (ãƒ¡ã‚¤ãƒ³å‡¦ç†)</summary>
          <pre><code>/**
 * X APIã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•æŠ•ç¨¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 
 * æ©Ÿèƒ½:
 * 1. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
 * 2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆA/B/Testï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã¦æŠ•ç¨¿
 * 3. ç”»åƒã‚’Driveã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦æ·»ä»˜
 * 4. æŠ•ç¨¿çµæœã‚’ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æ›¸ãè¾¼ã¿
 */

require('dotenv').config();
const { TwitterApi } = require('twitter-api-v2');
const { google } = require('googleapis');
const axios = require('axios');
const fs = require('fs');
const path = require('path');
const { promisify } = require('util');
const writeFile = promisify(fs.writeFile);
const unlink = promisify(fs.unlink);

// === è¨­å®š ===
const SPREADSHEET_ID = process.env.SPREADSHEET_ID || '1O9pWwkMvVBQOngRSLumogXFktAHmAmur65t5Kwpxe4Y';
const SHEET_NAME = 'posts';

// === èªè¨¼æƒ…å ± ===
// å…±é€šã®API Key
const APP_KEY = process.env.X_API_KEY;
const APP_SECRET = process.env.X_API_SECRET;

// ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã®ãƒˆãƒ¼ã‚¯ãƒ³
const TOKENS = {
    'A': {
        token: process.env.X_ACCESS_TOKEN_A,
        secret: process.env.X_ACCESS_SECRET_A
    },
    'B': {
        token: process.env.X_ACCESS_TOKEN_B,
        secret: process.env.X_ACCESS_SECRET_B
    },
    'TEST': {
        token: process.env.X_ACCESS_TOKEN_TEST,
        secret: process.env.X_ACCESS_SECRET_TEST
    }
};

// === ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•° ===

// ãƒ‡ãƒãƒƒã‚°ç”¨: ç’°å¢ƒå¤‰æ•°ã®çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯ï¼ˆå€¤ãã®ã‚‚ã®ã¯å‡ºã•ãªã„ï¼‰
function checkEnvVars() {
    console.log('\nğŸ” ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯:');
    console.log(`X_API_KEY: ${APP_KEY ? 'âœ… OK (' + APP_KEY.length + ' chars)' : 'âŒ Missing'}`);
    console.log(`X_API_SECRET: ${APP_SECRET ? 'âœ… OK (' + APP_SECRET.length + ' chars)' : 'âŒ Missing'}`);
    
    Object.keys(TOKENS).forEach(key => {
        const t = TOKENS[key];
        console.log(`Account ${key}:`);
        console.log(`  Token: ${t.token ? 'âœ… OK (' + t.token.length + ' chars)' : 'âš ï¸ Missing'}`);
        console.log(`  Secret: ${t.secret ? 'âœ… OK (' + t.secret.length + ' chars)' : 'âš ï¸ Missing'}`);
    });
    console.log('-------------------');
}

// Googleèªè¨¼ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå–å¾—
function getGoogleAuth() {
    const serviceAccountKeyPath = process.env.GOOGLE_SERVICE_ACCOUNT_KEY_PATH || './service-account-key.json';
    const serviceAccountJson = process.env.GOOGLE_SERVICE_ACCOUNT_JSON;

    if (serviceAccountJson) {
        // ç’°å¢ƒå¤‰æ•°ã‹ã‚‰JSONã‚’ç›´æ¥èª­ã¿è¾¼ã‚€ï¼ˆGitHub Actionsç”¨ï¼‰
        try {
            const credentials = JSON.parse(serviceAccountJson);
            return new google.auth.GoogleAuth({
                credentials,
                scopes: ['https://www.googleapis.com/auth/spreadsheets', 'https://www.googleapis.com/auth/drive.readonly']
            });
        } catch (e) {
            throw new Error(`GOOGLE_SERVICE_ACCOUNT_JSONã®ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—: ${e.message}`);
        }
    } else if (fs.existsSync(serviceAccountKeyPath)) {
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨ï¼‰
        return new google.auth.GoogleAuth({
            keyFile: serviceAccountKeyPath,
            scopes: ['https://www.googleapis.com/auth/spreadsheets', 'https://www.googleapis.com/auth/drive.readonly']
        });
    }
    throw new Error('Google Service Accountã®è¨­å®šãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
}

// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå–å¾— (CSVçµŒç”±ã§è»½é‡åŒ–)
async function getSpreadsheetData() {
    const csvUrl = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/gviz/tq?tqx=out:csv&sheet=${SHEET_NAME}`;
    try {
        const response = await axios.get(csvUrl);
        return parseCSV(response.data);
    } catch (e) {
        console.error('Spreadsheet download failed:', e.message);
        throw e;
    }
}

// CSVãƒ‘ãƒ¼ã‚µãƒ¼
function parseCSV(csvText) {
    const rows = [];
    let currentRow = [];
    let currentValue = '';
    let inQuotes = false;

    for (let i = 0; i < csvText.length; i++) {
        const char = csvText[i];
        if (char === '"') {
            if (inQuotes && csvText[i + 1] === '"') {
                currentValue += '"';
                i++;
            } else {
                inQuotes = !inQuotes;
            }
        } else if (char === ',' && !inQuotes) {
            currentRow.push(currentValue);
            currentValue = '';
        } else if ((char === '\r' || char === '\n') && !inQuotes) {
            if (char === '\r' && csvText[i + 1] === '\n') i++;
            currentRow.push(currentValue);
            if (currentRow.some(v => v)) rows.push(currentRow);
            currentRow = [];
            currentValue = '';
        } else {
            currentValue += char;
        }
    }
    if (currentValue || currentRow.length) {
        currentRow.push(currentValue);
        rows.push(currentRow);
    }
    return rows;
}

// Google Driveã‹ã‚‰ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
async function downloadImage(fileIdOrUrl) {
    if (!fileIdOrUrl) return null;
    
    // IDæŠ½å‡º
    let fileId = fileIdOrUrl;
    const match = fileIdOrUrl.match(/[-\w]{25,}/);
    if (match) fileId = match[0];

    console.log(`ğŸ“¥ ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: ${fileId}`);
    const url = `https://drive.google.com/uc?export=download&id=${fileId}`;
    
    try {
        const response = await axios.get(url, { responseType: 'arraybuffer' });
        const tempPath = path.join('/tmp', `${fileId}.jpg`);
        await writeFile(tempPath, response.data);
        return tempPath;
    } catch (e) {
        console.error(`âŒ ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—: ${e.message}`);
        return null;
    }
}

// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›´æ–°
async function updateSheetStatus(rowIndex, statusColumnIndex, newStatus) {
    try {
        const auth = getGoogleAuth();
        const sheets = google.sheets({ version: 'v4', auth });
        
        // ã‚«ãƒ©ãƒ ç•ªå·ã‚’A1è¨˜æ³•ã«å¤‰æ› (0 -> A, 4 -> E)
        const colLetter = String.fromCharCode(65 + statusColumnIndex);
        const range = `${SHEET_NAME}!${colLetter}${rowIndex + 1}`; // rowIndexã¯0å§‹ã¾ã‚Šã€ã‚·ãƒ¼ãƒˆã¯1å§‹ã¾ã‚Š

        await sheets.spreadsheets.values.update({
            spreadsheetId: SPREADSHEET_ID,
            range: range,
            valueInputOption: 'RAW',
            resource: { values: [[newStatus]] }
        });
        console.log(`âœ… ã‚·ãƒ¼ãƒˆæ›´æ–°: è¡Œ${rowIndex + 1} -> ${newStatus}`);
    } catch (e) {
        console.error(`âŒ ã‚·ãƒ¼ãƒˆæ›´æ–°å¤±æ•—: ${e.message}`);
    }
}

// Xã«æŠ•ç¨¿
async function postTweet(accountKey, text, imagePath) {
    const token = TOKENS[accountKey];
    if (!token || !token.token) throw new Error(`ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${accountKey}`);

    // è©³ç´°ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ 
    try {
        const client = new TwitterApi({
            appKey: APP_KEY,
            appSecret: APP_SECRET,
            accessToken: token.token,
            accessSecret: token.secret,
        });

        let mediaId = undefined;
        if (imagePath) {
            console.log('ğŸ“¤ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...');
            // v1 API for media upload
            mediaId = await client.v1.uploadMedia(imagePath);
        }

        console.log(`ğŸ“ æŠ•ç¨¿ä¸­ (@${accountKey}): ${text.substring(0, 20)}...`);
        
        // v2 API for tweet
        await client.v2.tweet({
            text: text,
            media: mediaId ? { media_ids: [mediaId] } : undefined
        });
    } catch (e) {
        console.error(`âŒ APIã‚¨ãƒ©ãƒ¼è©³ç´°:`);
        console.error(`   Message: ${e.message}`);
        if (e.data) {
            console.error(`   Data: ${JSON.stringify(e.data)}`);
        }
        if (e.code) {
            console.error(`   Code: ${e.code}`);
        }
        throw e; // ä¸Šä½ã«æŠ•ã’ã‚‹
    }
}

// === ãƒ¡ã‚¤ãƒ³å‡¦ç† ===
async function main() {
    const mode = process.argv[2] || 'check'; // check, test, force
    console.log(`ğŸš€ é–‹å§‹: ãƒ¢ãƒ¼ãƒ‰=${mode}`);
    
    checkEnvVars(); // æœ€åˆã«ãƒã‚§ãƒƒã‚¯

    // 1. ãƒ‡ãƒ¼ã‚¿å–å¾—
    const rows = await getSpreadsheetData();
    if (rows.length < 2) {
        console.log('ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“');
        return;
    }

    // ãƒ˜ãƒƒãƒ€ãƒ¼è§£æ
    const headers = rows[0];
    const colMap = {
        date: headers.indexOf('æ—¥ä»˜'),
        time: headers.indexOf('æ™‚é–“'),
        account: headers.indexOf('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ'),
        text: headers.indexOf('ãƒ†ã‚­ã‚¹ãƒˆ'),
        image: headers.indexOf('ç”»åƒ'),
        status: headers.indexOf('ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹')
    };

    if (colMap.date === -1 || colMap.status === -1) {
        throw new Error('å¿…é ˆã‚«ãƒ©ãƒ ï¼ˆæ—¥ä»˜, ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç­‰ï¼‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
    }

    const now = new Date();

    // 2. è¡Œã”ã¨ã®å‡¦ç†
    for (let i = 1; i < rows.length; i++) {
        const row = rows[i];
        const dateStr = row[colMap.date];
        const timeStr = row[colMap.time];
        const account = row[colMap.account] || 'A'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆA
        const text = row[colMap.text];
        const image = row[colMap.image];
        const status = row[colMap.status] || '';

        // æ—¥æ™‚ãƒ‘ãƒ¼ã‚¹
        const postTime = new Date(`${dateStr.replace(/\//g, '-')} ${timeStr}`);
        const isPast = postTime <= now;

        let shouldPost = false;
        let targetAccount = account;
        let newStatus = 'å®Œäº†';

        if (mode === 'check') {
            // å®šæœŸå®Ÿè¡Œ: æ‰¿èªæ¸ˆã¿ ã‹ã¤ æ™‚é–“çµŒé ã‹ã¤ æœªå®Œäº†
            if (status === 'æ‰¿èªæ¸ˆã¿' && isPast) {
                shouldPost = true;
                // æœ¬ç•ªã‚¢ã‚«ã‚¦ãƒ³ãƒˆ (A or B)
                targetAccount = (account === 'B' || account === 'ãƒ­ãƒãƒŸãƒŸ') ? 'B' : 'A';
            }
        } else if (mode === 'test') {
            // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ: ç¢ºèªå¾…ã¡ ã®ã¿
            if (status === 'ç¢ºèªå¾…ã¡') {
                shouldPost = true;
                targetAccount = 'TEST';
                // ãƒ†ã‚¹ãƒˆå¾Œã¯æ‰¿èªå¾…ã¡ã«ã™ã‚‹ï¼Ÿ
                // newStatus = 'æ‰¿èªå¾…ã¡'; 
                newStatus = 'ç¢ºèªæ¸ˆã¿'; 
            }
        } else if (mode === 'force' && process.env.TARGET_ROW) {
            // å¼·åˆ¶å®Ÿè¡Œ: è¡ŒæŒ‡å®š
            if (i + 1 == process.env.TARGET_ROW) {
                shouldPost = true;
                // æŒ‡å®šã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§
                targetAccount = (account === 'B' || account === 'ãƒ­ãƒãƒŸãƒŸ') ? 'B' : 'A';
            }
        }

        if (shouldPost) {
            console.log(`\nğŸ¯ å¯¾è±¡è¡Œ: ${i + 1} (Account: ${targetAccount})`);
            
            try {
                // ç”»åƒDL
                let imagePath = null;
                if (image) {
                    imagePath = await downloadImage(image);
                }

                // æŠ•ç¨¿
                await postTweet(targetAccount, text, imagePath);
                console.log('âœ… æŠ•ç¨¿æˆåŠŸ');

                // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
                await updateSheetStatus(i, colMap.status, newStatus);

                // å¾Œå§‹æœ«
                if (imagePath) await unlink(imagePath);

            } catch (e) {
                console.error(`âŒ å‡¦ç†å¤±æ•—: ${e.message}`);
                // ã‚¨ãƒ©ãƒ¼ã‚’ã‚·ãƒ¼ãƒˆã«æ›¸ãè¾¼ã‚€ï¼Ÿ
            }
        }
    }
    console.log('ğŸ å®Œäº†');
}

main().catch(console.error);</code></pre>
        </details>
        
        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ get_twitter_tokens.js (ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ç”¨)</summary>
          <pre><code>const { TwitterApi } = require('twitter-api-v2');
const readline = require('readline');
const { exec } = require('child_process');

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

const ask = (question) => new Promise((resolve) => rl.question(question, resolve));

(async () => {
    console.log('\n=== X (Twitter) ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ãƒ„ãƒ¼ãƒ« (ãƒ‡ãƒãƒƒã‚°ç‰ˆ) ===');
    console.log('Developer Portalã§å–å¾—ã—ãŸ API Key ã¨ API Key Secret ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
    console.log('---------------------------------------------------');

    const apiKey = await ask('API Key: ');
    const apiSecret = await ask('API Key Secret: ');

    if (!apiKey || !apiSecret) {
        console.error('âŒ API Key ã¾ãŸã¯ Secret ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚');
        process.exit(1);
    }

    const client = new TwitterApi({
        appKey: apiKey,
        appSecret: apiSecret,
    });

    const callbackUrl = 'http://127.0.0.1:3000/callback';
    let authLink;
    try {
        authLink = await client.generateAuthLink(callbackUrl, { linkMode: 'authorize' });
        console.log('\nDEBUG: Auth Link generated successfully.');
        console.log('Token:', authLink.oauth_token);
        console.log('Secret:', authLink.oauth_token_secret);
    } catch (e) {
        console.error('\nâŒ èªè¨¼ãƒªãƒ³ã‚¯ç”Ÿæˆå¤±æ•—');
        if (e.data) {
            console.error('API Error Data:', JSON.stringify(e.data, null, 2));
        } else {
            console.error('Error:', e);
        }
        process.exit(1);
    }

    console.log('\n=== èªè¨¼æ‰‹é † ===');
    console.log('1. è‡ªå‹•çš„ã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã¾ã™');
    console.log(`   URL: ${authLink.url}`);
    console.log('---------------------------------------------------');

    const startCommand = process.platform == 'darwin' ? 'open' : process.platform == 'win32' ? 'start' : 'xdg-open';
    exec(`${startCommand} "${authLink.url}"`);

    const verifier = await ask('\nã‚³ãƒ”ãƒ¼ã—ãŸ oauth_verifier ã‚’è²¼ã‚Šä»˜ã‘ã¦Enter: ');

    if (!verifier) {
        console.error('âŒ VerifierãŒå…¥åŠ›ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚');
        process.exit(1);
    }

    try {
        // è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›ã®ãŸã‚ã«loginãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­èº«ã‚’åˆ†è§£ã—ã¦å®Ÿè¡Œ
        // v1.login() ã¯å†…éƒ¨ã§ getAccessToken ã‚’å‘¼ã‚“ã§ã„ã‚‹
        console.log('\nDEBUG: ãƒˆãƒ¼ã‚¯ãƒ³äº¤æ›ã‚’é–‹å§‹ã—ã¾ã™...');
        console.log(`Oauth Token: ${authLink.oauth_token}`);
        console.log(`Verifier: ${verifier}`);

        // ä¸€æ™‚çš„ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆã—ã¦èªè¨¼
        const tempClient = new TwitterApi({
            appKey: apiKey,
            appSecret: apiSecret,
            accessToken: authLink.oauth_token,
            accessSecret: authLink.oauth_token_secret,
        });

        const { accessToken, accessSecret, screenName, userId } = await tempClient.login(verifier);

        console.log('\nâœ… èªè¨¼æˆåŠŸï¼ä»¥ä¸‹ã®æƒ…å ±ã‚’GitHub Secretsã«ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚');
        console.log('===================================================');
        console.log(`ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå: @${screenName} (ID: ${userId})`);
        console.log(`Access Token:        ${accessToken}`);
        console.log(`Access Token Secret: ${accessSecret}`);
        console.log('===================================================');
        
        process.exit(0);
    } catch (e) {
        console.error('\nâŒ ãƒˆãƒ¼ã‚¯ãƒ³äº¤æ›ã‚¨ãƒ©ãƒ¼è©³ç´°:');
        console.error('---------------------------------------------------');
        console.error('Message:', e.message);
        console.error('Code:', e.code);
        if (e.data) {
            console.error('API Response Data:', JSON.stringify(e.data, null, 2));
        }
        if (e.rateLimit) {
            console.error('Rate Limit Info:', e.rateLimit);
        }
        console.error('---------------------------------------------------');
        process.exit(1);
    }
})();</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .github/workflows/manual-test-post.yml</summary>
          <pre><code>name: Manual Test Post

on:
  workflow_dispatch:

jobs:
  test-post:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run Test Post
        env:
          SPREADSHEET_ID: ${{ secrets.SPREADSHEET_ID }}
          X_API_KEY: ${{ secrets.X_API_KEY }}
          X_API_SECRET: ${{ secrets.X_API_SECRET }}
          X_ACCESS_TOKEN_A: ${{ secrets.X_ACCESS_TOKEN_A }}
          X_ACCESS_SECRET_A: ${{ secrets.X_ACCESS_SECRET_A }}
          X_ACCESS_TOKEN_B: ${{ secrets.X_ACCESS_TOKEN_B }}
          X_ACCESS_SECRET_B: ${{ secrets.X_ACCESS_SECRET_B }}
          X_ACCESS_TOKEN_TEST: ${{ secrets.X_ACCESS_TOKEN_TEST }}
          X_ACCESS_SECRET_TEST: ${{ secrets.X_ACCESS_SECRET_TEST }}
          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}
        run: npm run test-post</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .github/workflows/scheduled-post.yml</summary>
          <pre><code>name: Scheduled Post

on:
  schedule:
    - cron: '*/30 * * * *'
  workflow_dispatch:

jobs:
  check-and-post:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run Post Check
        env:
          SPREADSHEET_ID: ${{ secrets.SPREADSHEET_ID }}
          X_API_KEY: ${{ secrets.X_API_KEY }}
          X_API_SECRET: ${{ secrets.X_API_SECRET }}
          X_ACCESS_TOKEN_A: ${{ secrets.X_ACCESS_TOKEN_A }}
          X_ACCESS_SECRET_A: ${{ secrets.X_ACCESS_SECRET_A }}
          X_ACCESS_TOKEN_B: ${{ secrets.X_ACCESS_TOKEN_B }}
          X_ACCESS_SECRET_B: ${{ secrets.X_ACCESS_SECRET_B }}
          X_ACCESS_TOKEN_TEST: ${{ secrets.X_ACCESS_TOKEN_TEST }}
          X_ACCESS_SECRET_TEST: ${{ secrets.X_ACCESS_SECRET_TEST }}
          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}
        run: npm start</code></pre>
        </details>
      </div>

      <pre><code># ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install</code></pre>

      <h3>2. GitHubã¸ã®Push</h3>
      <p>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚<br>
      â€»èªè¨¼ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸå ´åˆã¯ã€å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã® <strong>[GITHUB_INFO]</strong> ã«ã‚ã‚‹IDã‚’ä½¿ç”¨ã—ã€<strong>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¬„ã«ã¯ã€Œãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</strong></p>
      
      <div class="input-group" style="margin-bottom:16px;">
         <label>â–¼ ãƒªãƒã‚¸ãƒˆãƒªURL (è‡ªå‹•å…¥åŠ›)</label>
         <input type="text" id="repo_url_display" readonly style="background:#e2e8f0; color:#64748b; margin-bottom:8px;" />
         
         <label>â–¼ èªè¨¼ç”¨ãƒˆãƒ¼ã‚¯ãƒ³ (è‡ªå‹•å…¥åŠ›: ã“ã‚Œã‚’ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨)</label>
         <div style="display:flex; gap:8px;">
           <input type="text" id="github_token_display" readonly style="background:#e2e8f0; color:#64748b;" />
           <button class="btn btn-copy" onclick="copy(document.getElementById('github_token_display').value)">ã‚³ãƒ”ãƒ¼</button>
         </div>
      </div>

      <pre class="code-log">git add .
git commit -m "Initial commit"
git branch -M main

<span class="comment"># ãƒªãƒ¢ãƒ¼ãƒˆç™»éŒ² (URLã¯ä¸Šè¨˜ã®ã‚‚ã®ã‚’ä½¿ç”¨)</span>
git remote add origin <span id="repo_url_cmd">https://github.com/...</span>

git push -u origin main</pre>
    </div>

    <!-- Engineer Step 2 -->
    <div class="card">
      <span class="role-badge role-engineer">Step 2</span>
      <h2>èªè¨¼æƒ…å ±ã®ç™»éŒ² (GitHub Secrets)</h2>
      <p>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿æŒã®ãŸã‚ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚„éµãªã©ã®æ©Ÿå¯†æƒ…å ±ã¯ã™ã¹ã¦ <strong>GitHub Secrets</strong> ã«ç™»éŒ²ã—ã¾ã™ã€‚</p>

      <div class="note danger">
        <strong>âš ï¸ é‡è¦: ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„</strong><br>
        ã“ã“ã‹ã‚‰ã®ä½œæ¥­ï¼ˆXèªè¨¼ï¼‰ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå–ã‚Šé•ãˆã‚’é˜²ããŸã‚ã€å¿…ãš<strong>ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦</strong>ï¼ˆIncognito Modeï¼‰ã§è¡Œã£ã¦ãã ã•ã„ã€‚<br>
        æ‰‹é †: <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd> (Macã¯ <kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd>) ã§æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãã€ãã“ã§ä½œæ¥­ã‚’é€²ã‚ã¾ã™ã€‚
      </div>

      <h3>1. ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—</h3>
      <p>ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã€å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ã€‚<br>
      ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã« <strong>[ãƒ­ã‚°ã‚¤ãƒ³] â†’ [ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ] â†’ [å€¤ã‚’ã‚³ãƒ”ãƒ¼]</strong> ã®é †ã§é€²ã‚ã¦ãã ã•ã„ã€‚</p>

      <!-- ãƒãƒ£ãƒ—ãƒª -->
      <div class="input-group" style="border:1px solid #e2e8f0; padding:16px; border-radius:8px; margin-bottom:16px;">
        <h4 style="margin-top:0;">â‘  ãƒãƒ£ãƒ—ãƒª (@<span id="disp_id_a">...</span>)</h4>
        <p class="text-sm">1. ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ <a href="https://twitter.com/login" target="_blank">X (Twitter)</a> ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚<br>
        (ID: <strong id="disp_id_a_val">...</strong> / PW: <strong id="disp_pw_a_val">...</strong>)</p>
        
        <p class="text-sm">2. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€è¡¨ç¤ºã•ã‚ŒãŸURLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦èªè¨¼ã—ã¾ã™ã€‚</p>
        <pre class="code-log"><span class="cmd">npm run get-tokens</span>

<span class="comment"># 1. Developer Portalã® API Key / Secret ã‚’å…¥åŠ›</span>
API Key: <span class="highlight">(API Keyã‚’è²¼ã‚Šä»˜ã‘)</span>
API Key Secret: <span class="highlight">(API Secretã‚’è²¼ã‚Šä»˜ã‘)</span>

<span class="comment"># 2. ãƒ–ãƒ©ã‚¦ã‚¶ã§èªè¨¼å¾Œã€ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã®URLã‹ã‚‰ oauth_verifier ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘</span>
<span class="warn">http://127.0.0.1:3000/callback?oauth_token=...&oauth_verifier=</span><span class="highlight">HAND_COPY_THIS_CODE</span>

<span class="comment"># 3. å–å¾—ã•ã‚ŒãŸTokenãŒè¡¨ç¤ºã•ã‚Œã¾ã™</span>
Access Token: ...
Access Token Secret: ...</pre>
        
        <div class="secret-item">
          <div style="flex:1">
            <label>Access Token</label>
            <input type="text" id="token_a" placeholder="å–å¾—ã—ãŸTokenã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
          <div style="flex:1">
            <label>Access Token Secret</label>
            <input type="text" id="secret_a" placeholder="å–å¾—ã—ãŸSecretã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
        </div>
      </div>
      
      <!-- ãƒ­ãƒãƒŸãƒŸ -->
      <div class="input-group" style="border:1px solid #e2e8f0; padding:16px; border-radius:8px; margin-bottom:16px;">
        <h4 style="margin-top:0;">â‘¡ ãƒ­ãƒãƒŸãƒŸ (@<span id="disp_id_b">...</span>)</h4>
        <p class="text-sm">1. <strong>ä¸€åº¦Xã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—</strong>ã€ãƒ­ãƒãƒŸãƒŸã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§å†ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚<br>
        (ID: <strong id="disp_id_b_val">...</strong> / PW: <strong id="disp_pw_b_val">...</strong>)</p>
        <p class="text-sm">2. å†åº¦ <code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
        <div class="secret-item">
          <div style="flex:1">
            <label>Access Token</label>
            <input type="text" id="token_b" placeholder="å–å¾—ã—ãŸTokenã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
          <div style="flex:1">
            <label>Access Token Secret</label>
            <input type="text" id="secret_b" placeholder="å–å¾—ã—ãŸSecretã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
        </div>
      </div>

      <!-- ãƒ†ã‚¹ãƒˆç”¨ -->
      <div class="input-group" style="border:1px solid #e2e8f0; padding:16px; border-radius:8px; margin-bottom:16px;">
        <h4 style="margin-top:0;">â‘¢ ãƒ†ã‚¹ãƒˆç”¨ (@<span id="disp_id_test">...</span>)</h4>
        <p class="text-sm">1. <strong>ä¸€åº¦Xã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—</strong>ã€ãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§å†ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚<br>
        (ID: <strong id="disp_id_test_val">...</strong> / PW: <strong id="disp_pw_test_val">...</strong>)</p>
        <p class="text-sm">2. å†åº¦ <code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
        <div class="secret-item">
          <div style="flex:1">
            <label>Access Token</label>
            <input type="text" id="token_test" placeholder="å–å¾—ã—ãŸTokenã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
          <div style="flex:1">
            <label>Access Token Secret</label>
            <input type="text" id="secret_test" placeholder="å–å¾—ã—ãŸSecretã‚’è²¼ã‚Šä»˜ã‘" oninput="updateSecretsDisplay()" />
          </div>
        </div>
      </div>

      <h3>2. GitHub Secretsã¸ã®ç™»éŒ²</h3>
      <p>å–å¾—ã—ãŸã™ã¹ã¦ã®æƒ…å ±ã‚’GitHubã«ç™»éŒ²ã—ã¾ã™ã€‚</p>
      <ol>
        <li>GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’é–‹ãã€<strong>Settings</strong> ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</li>
        <li>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® <strong>Secrets and variables</strong> > <strong>Actions</strong> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</li>
        <li><strong>New repository secret</strong> ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€ä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã‚’ä¸Šã‹ã‚‰é †ã«ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚</li>
      </ol>

      <div id="secrets-list">
        <!-- JSã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        <div style="padding:20px; text-align:center; color:#64748b;">
          Step 1ã§å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ã“ã“ã«ç™»éŒ²ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
        </div>
      </div>
    </div>

    <div class="card">
      <span class="role-badge role-engineer">Step 3</span>
      <h2>å‹•ä½œç¢ºèª (Manual Test)</h2>
      <p>è¨­å®šãŒæ­£ã—ã„ã‹ã€æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ç¢ºèªã—ã¾ã™ã€‚</p>
      
      <div class="note">
        <strong>å‰æ:</strong> ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€Œç¢ºèªå¾…ã¡ã€ã®è¡Œï¼‰ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚<br>
        ãªã„å ´åˆã¯ã€ã•ã£ã¡ã‚“ã•ã‚“ã«é€£çµ¡ã—ã¦å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã£ã¦ãã ã•ã„ã€‚
      </div>

      <ol>
        <li>GitHubãƒªãƒã‚¸ãƒˆãƒªã® <strong>Actions</strong> ã‚¿ãƒ–ã‚’é–‹ãã¾ã™ã€‚</li>
        <li>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ <strong>Manual Test Post</strong> ã‚’é¸æŠã—ã¾ã™ã€‚</li>
        <li>å³å´ã® <strong>Run workflow</strong> ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ç·‘è‰²ã® <strong>Run workflow</strong> ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        <li>å®Ÿè¡ŒãŒå®Œäº†ï¼ˆç·‘ã®ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ï¼‰ã™ã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚</li>
        <li>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ç¢ºèªã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ <strong>ã€Œç¢ºèªå¾…ã¡ã€â†’ã€Œç¢ºèªæ¸ˆã¿ã€</strong> ã«å¤‰ã‚ã£ã¦ã„ã‚Œã°æˆåŠŸã§ã™ï¼</li>
      </ol>
    </div>

  </div><!-- End engineer tab -->

  <!-- ==========================================
       é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚¿ãƒ–
       ========================================== -->
  <div id="tab-operation" class="tab-content">

    <div class="card">
      <span class="role-badge role-satchin">Routine</span>
      <h2>æ—¥å¸¸ã®æŠ•ç¨¿ãƒ•ãƒ­ãƒ¼</h2>
      <p>Boté‹ç”¨é–‹å§‹å¾Œã®ã€æ—¥ã€…ã®æŠ•ç¨¿æ‰‹é †ã§ã™ã€‚</p>

      <div style="display:flex; flex-direction:column; gap:16px; margin-top:20px;">
        
        <!-- Step 1 -->
        <div style="border:1px solid #e2e8f0; border-radius:8px; padding:16px; background:white;">
          <h3 style="margin-top:0; font-size:16px; border-color:#3b82f6;">Step 1: æº–å‚™ (ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)</h3>
          <p>æŠ•ç¨¿ã—ãŸã„ç”»åƒã‚’Google Driveã®ã€ŒXæŠ•ç¨¿ç”¨ç”»åƒã€ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚<br>
          ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã€ç”»åƒã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€Œãƒªãƒ³ã‚¯ã‚’å–å¾—ã€ã—ã€URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚</p>
        </div>

        <!-- Step 2 -->
        <div style="border:1px solid #e2e8f0; border-radius:8px; padding:16px; background:white;">
          <h3 style="margin-top:0; font-size:16px; border-color:#3b82f6;">Step 2: ã‚·ãƒ¼ãƒˆã¸ã®å…¥åŠ›</h3>
          <p>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æŠ•ç¨¿å†…å®¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚</p>
          <ul>
            <li><strong>æ—¥ä»˜/æ™‚é–“</strong>: æŠ•ç¨¿ã—ãŸã„æ—¥æ™‚ (ä¾‹: 2024/05/01 18:00)</li>
            <li><strong>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong>: ãƒãƒ£ãƒ—ãƒª or ãƒ­ãƒãƒŸãƒŸ</li>
            <li><strong>ãƒ†ã‚­ã‚¹ãƒˆ</strong>: æŠ•ç¨¿æœ¬æ–‡</li>
            <li><strong>ç”»åƒ</strong>: Step 1ã§ã‚³ãƒ”ãƒ¼ã—ãŸURL
              <ul style="margin-top:8px;">
                <li>1æšã®å ´åˆ: URLã‚’ãã®ã¾ã¾å…¥åŠ›</li>
                <li>è¤‡æ•°æšã®å ´åˆï¼ˆæœ€å¤§4æšï¼‰: URLã‚’æ”¹è¡Œã¾ãŸã¯ã‚«ãƒ³ãƒï¼ˆ,ï¼‰ã§åŒºåˆ‡ã£ã¦å…¥åŠ›<br>
                <small>ä¾‹:<br>
                <code>https://drive.google.com/file/d/xxx1/view</code><br>
                <code>https://drive.google.com/file/d/xxx2/view</code><br>
                ã¾ãŸã¯<br>
                <code>https://drive.google.com/file/d/xxx1/view, https://drive.google.com/file/d/xxx2/view</code></small></li>
              </ul>
            </li>
            <li><strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</strong>: <strong class="text-warn">ç¢ºèªå¾…ã¡</strong> ã‚’é¸æŠ</li>
          </ul>
        </div>

        <!-- Step 3 -->
        <div style="border:1px solid #e2e8f0; border-radius:8px; padding:16px; background:white;">
          <h3 style="margin-top:0; font-size:16px; border-color:#3b82f6;">Step 3: ãƒ†ã‚¹ãƒˆæŠ•ç¨¿ã¨ç¢ºèª</h3>
          <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã€Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ã‚’ä¾é ¼ã™ã‚‹ã‹ã€Botã®è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’å¾…ã¡ã¾ã™ã€‚</p>
          <ul>
            <li>BotãŒãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æŠ•ç¨¿ã‚’è¡Œã„ã¾ã™ã€‚</li>
            <li>æŠ•ç¨¿ãŒæˆåŠŸã™ã‚‹ã¨ã€ã‚·ãƒ¼ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè‡ªå‹•çš„ã« <strong class="text-success">ç¢ºèªæ¸ˆã¿</strong> ã«å¤‰ã‚ã‚Šã¾ã™ã€‚</li>
            <li>å®Ÿéš›ã®Xï¼ˆãƒ†ã‚¹ãƒˆå¢ï¼‰ã‚’è¦‹ã¦ã€ç”»åƒã‚„æ”¹è¡ŒãŒæ­£ã—ã„ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</li>
          </ul>
        </div>

        <!-- Step 4 -->
        <div style="border:1px solid #e2e8f0; border-radius:8px; padding:16px; background:white;">
          <h3 style="margin-top:0; font-size:16px; border-color:#3b82f6;">Step 4: æ‰¿èª (Goã‚µã‚¤ãƒ³)</h3>
          <p>å†…å®¹ã«å•é¡ŒãŒãªã‘ã‚Œã°ã€ã‚·ãƒ¼ãƒˆã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ‰‹å‹•ã§ <strong class="text-highlight">æ‰¿èªæ¸ˆã¿</strong> ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚</p>
          <p class="note">â€» ã“ã‚Œã§äºˆç´„å®Œäº†ã§ã™ã€‚æŒ‡å®šæ™‚é–“ã«ãªã‚‹ã¨BotãŒæœ¬ç•ªæŠ•ç¨¿ã—ã¾ã™ã€‚</p>
        </div>

        <!-- Step 5 -->
        <div style="border:1px solid #e2e8f0; border-radius:8px; padding:16px; background:white;">
          <h3 style="margin-top:0; font-size:16px; border-color:#3b82f6;">Step 5: å®Œäº†ç¢ºèª</h3>
          <p>æœ¬ç•ªæŠ•ç¨¿ãŒæˆåŠŸã™ã‚‹ã¨ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè‡ªå‹•çš„ã« <strong style="color:#64748b;">å®Œäº†</strong> ã«å¤‰ã‚ã‚Šã¾ã™ã€‚</p>
        </div>

      </div>
    </div>

    <div class="card">
      <span class="role-badge role-satchin">Trouble Shooting</span>
      <h2>ã‚ˆãã‚ã‚‹è³ªå•ãƒ»ãƒˆãƒ©ãƒ–ãƒ«å¯¾å¿œ</h2>
      
      <details>
        <summary style="font-weight:bold; cursor:pointer;">Q. æŠ•ç¨¿ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãŸã„</summary>
        <p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã€Œæ‰¿èªæ¸ˆã¿ã€ã‹ã‚‰ç©ºæ¬„ã€ã¾ãŸã¯ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€ç­‰ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚<br>
        ã€Œæ‰¿èªæ¸ˆã¿ã€ã§ãªã‘ã‚Œã°ã€æ™‚é–“ã¯éãã¦ã‚‚æŠ•ç¨¿ã•ã‚Œã¾ã›ã‚“ã€‚</p>
      </details>

      <details style="margin-top:12px;">
        <summary style="font-weight:bold; cursor:pointer;">Q. ç”»åƒãªã—ã§æŠ•ç¨¿ã—ãŸã„</summary>
        <p>ã€Œç”»åƒã€åˆ—ã‚’ç©ºæ¬„ã«ã™ã‚Œã°ã€ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã§æŠ•ç¨¿ã•ã‚Œã¾ã™ã€‚</p>
      </details>

      <details style="margin-top:12px;">
        <summary style="font-weight:bold; cursor:pointer;">Q. è¤‡æ•°ã®ç”»åƒã‚’æŠ•ç¨¿ã—ãŸã„ï¼ˆæœ€å¤§4æšï¼‰</summary>
        <p>ã€Œç”»åƒã€åˆ—ã«ã€è¤‡æ•°ã®Google Drive URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
        <ul>
          <li><strong>æ”¹è¡ŒåŒºåˆ‡ã‚Š</strong>: URLã‚’æ”¹è¡Œã§åŒºåˆ‡ã£ã¦å…¥åŠ›ï¼ˆæ¨å¥¨ï¼‰<br>
          <small>ä¾‹:<br>
          <code>https://drive.google.com/file/d/xxx1/view</code><br>
          <code>https://drive.google.com/file/d/xxx2/view</code></small></li>
          <li><strong>ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š</strong>: URLã‚’ã‚«ãƒ³ãƒï¼ˆ,ï¼‰ã§åŒºåˆ‡ã£ã¦å…¥åŠ›<br>
          <small>ä¾‹: <code>https://drive.google.com/file/d/xxx1/view, https://drive.google.com/file/d/xxx2/view</code></small></li>
        </ul>
        <p class="note">â€» X APIã®åˆ¶é™ã«ã‚ˆã‚Šã€æœ€å¤§4æšã¾ã§å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚5æšä»¥ä¸Šå…¥åŠ›ã—ãŸå ´åˆã€æœ€åˆã®4æšãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</p>
      </details>

      <details style="margin-top:12px;">
        <summary style="font-weight:bold; cursor:pointer;">Q. æŠ•ç¨¿ã«å¤±æ•—ã—ãŸï¼ˆå®Œäº†ã«ãªã‚‰ãªã„ï¼‰</summary>
        <p>æ™‚é–“ãŒéãã¦ã‚‚ã€Œå®Œäº†ã€ã«ãªã‚‰ãªã„å ´åˆã€ä½•ã‚‰ã‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚<br>
        ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«é€£çµ¡ã—ã€GitHubã®ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã‚‚ã‚‰ã£ã¦ãã ã•ã„ã€‚</p>
      </details>

      <details style="margin-top:12px;">
        <summary style="font-weight:bold; cursor:pointer;">Q. Botã‚’ä¸€æ™‚çš„ã«åœæ­¢ã—ãŸã„</summary>
        <p><strong>ã€æ–¹æ³•1ã€‘ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§åœæ­¢ï¼ˆæ¨å¥¨ï¼‰</strong></p>
        <ol>
          <li>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã€Œè¨­å®šã€ã¨ã„ã†åå‰ã®ã‚·ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼ˆã¾ã ãªã„å ´åˆï¼‰</li>
          <li>ã€Œè¨­å®šã€ã‚·ãƒ¼ãƒˆã®A1ã‚»ãƒ«ã« <strong class="text-danger">åœæ­¢</strong> ã¨å…¥åŠ›ã—ã¾ã™</li>
          <li>Botã¯æ¬¡å›ã®å®Ÿè¡Œæ™‚ï¼ˆ30åˆ†ä»¥å†…ï¼‰ã«åœæ­¢ã—ã¾ã™</li>
          <li>å†é–‹ã™ã‚‹ã«ã¯ã€A1ã‚»ãƒ«ã®å€¤ã‚’å‰Šé™¤ã™ã‚‹ã‹ã€<strong class="text-success">å®Ÿè¡Œä¸­</strong> ã«å¤‰æ›´ã—ã¦ãã ã•ã„</li>
        </ol>
        <p><strong>ã€æ–¹æ³•2ã€‘GitHub Actionsã§åœæ­¢</strong></p>
        <ol>
          <li>GitHubãƒªãƒã‚¸ãƒˆãƒªã® <strong>Settings</strong> > <strong>Actions</strong> > <strong>General</strong> ã‚’é–‹ãã¾ã™</li>
          <li><strong>Disable Actions</strong> ã‚’é¸æŠã—ã¦ä¿å­˜ã—ã¾ã™</li>
          <li>å†é–‹ã™ã‚‹ã«ã¯ã€åŒã˜è¨­å®šã§ <strong>Enable Actions</strong> ã«æˆ»ã—ã¾ã™</li>
        </ol>
        <p class="note">â€» æ–¹æ³•1ã®æ–¹ãŒç°¡å˜ã§ã€ã™ãã«åæ˜ ã•ã‚Œã¾ã™ã€‚æ–¹æ³•2ã¯å®Œå…¨ã«åœæ­¢ã—ã¾ã™ãŒã€å†é–‹æ™‚ã«è¨­å®šãŒå¿…è¦ã§ã™ã€‚</p>
      </details>
    </div>

  </div><!-- End operation tab -->

  <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ -->
  <div id="status_bar" class="status-bar">
    <div class="status-header">
      <span class="status-title">ğŸ“ å…¥åŠ›çŠ¶æ³</span>
      <span class="status-percent" id="status_percent">0%</span>
    </div>
    
    <div class="progress-container">
      <div class="progress-bg">
        <div class="progress-fill" id="progress_fill"></div>
      </div>
      <div class="runner" id="runner">ğŸ¶</div>
      <div class="goal" id="goal">ğŸ</div>
    </div>

    <div class="status-msg" id="status_msg">æœªå…¥åŠ›ã®é …ç›®ãŒã‚ã‚Šã¾ã™</div>
    <div class="missing-list" id="missing_list"></div>
  </div>

  <div style="height: 80px;"></div><!-- ä½™ç™½ç”¨ -->

  <footer>
    X Auto Post System Setup Guide
  </footer>

</div>

<script>
// --- ã‚¿ãƒ–åˆ¶å¾¡ ---
function showTab(role) {
  document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
  document.getElementById('tab-' + role).classList.add('active');
  // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
  const btns = document.querySelectorAll('.tab-btn');
  const sb = document.getElementById('status_bar');
  
  if(role === 'satchin') {
    btns[0].classList.add('active');
    if(sb) sb.classList.add('visible');
  } else if (role === 'engineer') {
    btns[1].classList.add('active');
    if(sb) sb.classList.remove('visible');
  } else {
    btns[2].classList.add('active');
    if(sb) sb.classList.remove('visible');
  }
}

// --- ãƒ‡ãƒ¼ã‚¿ç®¡ç† ---
const fields = [
  'ml_address', 'gcp_json', 'bot_email', 'sheet_url', 
  'acc_a_id', 'acc_a_pw', 'acc_b_id', 'acc_b_pw', 'acc_test_id', 'acc_test_pw',
  'x_api_key', 'x_api_secret',
  'github_email', 'github_pw', 'repo_url', 'github_token',
  'token_a', 'secret_a', 'token_b', 'secret_b', 'token_test', 'secret_test'
];

window.addEventListener('DOMContentLoaded', () => {
  fields.forEach(id => {
    const el = document.getElementById(id);
    if(el) {
      const saved = localStorage.getItem('xbot_v3_' + id);
      if(saved) el.value = saved;
      
      el.addEventListener('input', () => {
        localStorage.setItem('xbot_v3_' + id, el.value);
        refreshData();
      });
    }
  });
  refreshData();
  showTab('satchin'); // åˆæœŸè¡¨ç¤º
});

function refreshData() {
  updateHandoverText();
  updateEngineerView();
  updateStatus(); // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
}

function updateStatus() {
  const requiredIds = [
    'ml_address', 'gcp_json', 'bot_email', 'sheet_url', 
    'acc_a_id', 'acc_a_pw', 'acc_b_id', 'acc_b_pw', 'acc_test_id', 'acc_test_pw',
    'x_api_key', 'x_api_secret', 'github_email', 'github_pw', 'repo_url', 'github_token'
  ];
  
  let filledCount = 0;
  let missing = [];
  
  requiredIds.forEach(id => {
    const el = document.getElementById(id);
    if (!el) {
        console.warn(`Missing element check: ${id} not found`); // ãƒ‡ãƒãƒƒã‚°ç”¨
        return;
    }
    const val = el.value.trim();
    const group = el.closest('.input-group');
    
    if(val) {
      filledCount++;
      if(group) group.classList.add('filled');
    } else {
      if(group) group.classList.remove('filled');
      // data-requiredå±æ€§ãŒãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
      const label = el.getAttribute('data-required') || id;
      missing.push(label);
    }
  });

  const percent = Math.round((filledCount / requiredIds.length) * 100);
  document.getElementById('status_percent').innerText = percent + '%';
  
  const fillEl = document.getElementById('progress_fill');
  if(fillEl) fillEl.style.width = percent + '%';
  
  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹• (0%ã€œ100%)
  const runner = document.getElementById('runner');
  const goal = document.getElementById('goal');
  
  if(runner) runner.style.left = percent + '%';

  const msgEl = document.getElementById('status_msg');
  const listEl = document.getElementById('missing_list');
  
  if(percent === 100) {
    if(msgEl) {
      msgEl.innerText = "ğŸ‰ ã™ã¹ã¦ã®å…¥åŠ›ãŒå®Œäº†ã—ã¾ã—ãŸï¼";
      msgEl.style.color = "#059669";
      msgEl.style.fontWeight = "bold";
    }
    if(listEl) listEl.innerHTML = "";
    
    // ã‚´ãƒ¼ãƒ«æ¼”å‡º
    if(goal) {
      goal.innerHTML = "ğŸ‰"; 
      goal.style.animation = "pop 0.6s ease";
    }
    
    // çŠ¬æ¼”å‡º (å–œã³)
    if(runner) {
      runner.innerHTML = "ğŸ¶"; // å®Œäº†æ™‚
      runner.style.left = "calc(100% - 25px)"; 
      runner.style.animation = "bounce 0.3s infinite alternate"; // æ—©ãè·³ã­ã‚‹
    }
  } else {
    if(msgEl) {
      msgEl.innerText = `æ®‹ã‚Š ${missing.length} é …ç›®ãŒæœªå…¥åŠ›ã§ã™`;
      msgEl.style.color = "#64748b";
    }
    if(listEl) listEl.innerHTML = missing.map(m => `<div class="missing-item">${m}</div>`).join('');
    
    // é€šå¸¸çŠ¶æ…‹
    if(goal) {
      goal.innerHTML = "ğŸ";
      goal.style.animation = "none";
    }
    if(runner) {
      runner.innerHTML = "ğŸ¶"; // èµ°ã‚‹
      runner.style.animation = "bounce 0.5s infinite alternate";
    }
  }
}

function updateHandoverText() {
  const get = (id) => document.getElementById(id)?.value || '';
  
  let txt = "ã€Xè‡ªå‹•æŠ•ç¨¿Bot å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã€‘\nã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ã‚¿ãƒ–ã®èª­è¾¼æ¬„ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚\n\n";
  
  txt += `[LOGIN_INFO]\nAccount ãƒãƒ£ãƒ—ãƒª: ${get('acc_a_id')} / ${get('acc_a_pw')}\nAccount ãƒ­ãƒãƒŸãƒŸ: ${get('acc_b_id')} / ${get('acc_b_pw')}\nAccount TEST: ${get('acc_test_id')} / ${get('acc_test_pw')}\n\n`;
  
  txt += `[GITHUB_INFO]\nEmail: ${get('github_email')}\nPassword: ${get('github_pw')}\nToken: ${get('github_token')}\nRepo URL: ${get('repo_url')}\n\n`;

  const saveKeys = ['ml_address', 'gcp_json', 'bot_email', 'sheet_url', 'x_api_key', 'x_api_secret'];
  saveKeys.forEach(k => {
    txt += `[${k.toUpperCase()}]\n${get(k)}\n\n`;
  });

  document.getElementById('handover_data').value = txt;
}

function updateEngineerView() {
  const get = (id) => document.getElementById(id)?.value || '';
  
  // ãƒªãƒã‚¸ãƒˆãƒªURLè¡¨ç¤º
  const repoUrl = get('repo_url');
  if(repoUrl) {
    const disp = document.getElementById('repo_url_display');
    if(disp) disp.value = repoUrl;
    
    const cmd = document.getElementById('repo_url_cmd');
    if(cmd) cmd.innerText = repoUrl;
  }
  
  // ãƒˆãƒ¼ã‚¯ãƒ³è¡¨ç¤º
  const token = get('github_token');
  if(token) {
    const disp = document.getElementById('github_token_display');
    if(disp) disp.value = token;
  }

  // Secretsãƒªã‚¹ãƒˆç”Ÿæˆ
  let sheetId = '';
  const match = get('sheet_url').match(/\/d\/([a-zA-Z0-9-_]+)/);
  if(match) sheetId = match[1];

  const secrets = [
    { k: 'GOOGLE_SERVICE_ACCOUNT_JSON', v: get('gcp_json') },
    { k: 'SPREADSHEET_ID', v: sheetId },
    { k: 'X_API_KEY', v: get('x_api_key') },
    { k: 'X_API_SECRET', v: get('x_api_secret') },
    { k: 'X_ACCESS_TOKEN_A', v: get('token_a') },
    { k: 'X_ACCESS_SECRET_A', v: get('secret_a') },
    { k: 'X_ACCESS_TOKEN_B', v: get('token_b') },
    { k: 'X_ACCESS_SECRET_B', v: get('secret_b') },
    { k: 'X_ACCESS_TOKEN_TEST', v: get('token_test') },
    { k: 'X_ACCESS_SECRET_TEST', v: get('secret_test') },
  ];

  const container = document.getElementById('secrets-list');
  if (!container) return; // ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚¿ãƒ–ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„å ´åˆã¯ä½•ã‚‚ã—ãªã„

  container.innerHTML = secrets.map(s => `
    <div class="secret-item">
      <div class="secret-info">
        <div class="secret-key">${s.k}</div>
        <div class="secret-val-wrap">
          <input type="text" value="${s.v}" readonly onclick="this.select()">
        </div>
      </div>
      <div style="display:flex; flex-direction:column; gap:4px;">
        <button class="btn btn-copy" onclick="copy('${s.k}')">åå‰ã‚³ãƒ”ãƒ¼</button>
        <button class="btn btn-copy" onclick="copy(\`${s.v.replace(/`/g, '\\`')}\`)">å€¤ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div>
  `).join('');
}

function importHandoverData() {
  const txt = document.getElementById('import_data').value;
  if(!txt) return;

  const parse = (tag) => {
    const m = txt.match(new RegExp(`\\[${tag}\\]\\n(.*?)(?=\\n\\n|\\[|$)`, 's'));
    return m ? m[1].trim() : '';
  };

  // ã‚·ãƒ³ãƒ—ãƒ«ãªé …ç›®ã®å¾©å…ƒ
  const map = {
    'ML_ADDRESS': 'ml_address',
    'GCP_JSON': 'gcp_json',
    'BOT_EMAIL': 'bot_email',
    'SHEET_URL': 'sheet_url',
    'X_API_KEY': 'x_api_key',
    'X_API_SECRET': 'x_api_secret'
  };
  
  for(let k in map) {
    const val = parse(k);
    if(val) document.getElementById(map[k]).value = val;
  }

  // GitHubæƒ…å ±ã®å¾©å…ƒ
  const ghInfo = parse('GITHUB_INFO');
  if(ghInfo) {
    const emailMatch = ghInfo.match(/Email: (.*)/);
    if(emailMatch) document.getElementById('github_email').value = emailMatch[1];
    const pwMatch = ghInfo.match(/Password: (.*)/);
    if(pwMatch) document.getElementById('github_pw').value = pwMatch[1];
    const tokenMatch = ghInfo.match(/Token: (.*)/);
    if(tokenMatch) document.getElementById('github_token').value = tokenMatch[1];
    const urlMatch = ghInfo.match(/Repo URL: (.*)/);
    if(urlMatch) document.getElementById('repo_url').value = urlMatch[1];
  }

  // ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã®å¾©å…ƒ
  const loginTxt = parse('LOGIN_INFO');
  if(loginTxt) {
    loginTxt.split('\n').forEach(line => {
      if(line.includes('Account ãƒãƒ£ãƒ—ãƒª')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_a_id').value = p[0];
        document.getElementById('acc_a_pw').value = p[1];
      }
      if(line.includes('Account ãƒ­ãƒãƒŸãƒŸ')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_b_id').value = p[0];
        document.getElementById('acc_b_pw').value = p[1];
      }
      if(line.includes('Account TEST')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_test_id').value = p[0];
        document.getElementById('acc_test_pw').value = p[1];
      }
    });
  }

  refreshData();
  alert('ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼\nä¸‹ã®æ¬„ã«æƒ…å ±ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
}

function copyHandoverData() {
  const el = document.getElementById('handover_data');
  el.select();
  document.execCommand('copy');
  alert('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
}

function copy(txt) {
  if(!txt) return;
  const t = document.createElement('textarea');
  t.value = txt;
  document.body.appendChild(t);
  t.select();
  document.execCommand('copy');
  document.body.removeChild(t);
}
</script>

</body>
</html>