<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xè‡ªå‹•æŠ•ç¨¿Bot æ§‹ç¯‰æ‰‹é †æ›¸</title>
  <style>
    /* å…¨ä½“ */
    :root {
      --bg: #f8fafc;
      --card: #ffffff;
      --muted: #64748b;
      --accent: #2563eb;
      --accent-light: #eff6ff;
      --border: #e2e8f0;
      --radius: 12px;
      font-family: "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
      color-scheme: light;
    }
    html,body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: #0f1724;
    }
    .wrap {
      max-width: 940px;
      margin: 0 auto;
      padding: 30px 20px 100px; /* Footer space */
    }

    header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 30px;
    }
    .logo {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      background: #ffffff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color: var(--accent);
      border: 1px solid var(--border);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      font-size: 24px;
    }
    h1 { margin: 0; font-size: 24px; color: #1e293b; }
    .meta { color: var(--muted); font-size: 14px; margin-top: 4px; }

    /* ã‚¿ãƒ–ã‚·ã‚¹ãƒ†ãƒ  */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      border-bottom: 2px solid var(--border);
      padding-bottom: 0;
    }
    .tab-btn {
      padding: 12px 24px;
      font-weight: bold;
      font-size: 15px;
      border: none;
      background: none;
      cursor: pointer;
      color: var(--muted);
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
      margin-bottom: -2px;
    }
    .tab-btn:hover { color: var(--accent); }
    .tab-btn.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }
    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ã‚«ãƒ¼ãƒ‰ */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
      margin-bottom: 24px;
      position: relative;
    }
    .role-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 16px;
    }
    .role-satchin { background: #e0f2fe; color: #0369a1; }
    .role-engineer { background: #f3e8ff; color: #7e22ce; }

    h2 { margin: 0 0 16px 0; font-size: 20px; color: #1e293b; display: flex; align-items: center; gap: 8px; }
    h3 { margin: 28px 0 12px 0; font-size: 16px; border-left: 4px solid var(--accent); padding-left: 10px; color: #334155; }
    p { margin: 12px 0; line-height: 1.7; color: #475569; }
    ol, ul { margin: 12px 0 16px 24px; padding: 0; color: #475569; }
    li { margin: 8px 0; }
    strong { color: #1e293b; font-weight: 700; }
    
    /* ãƒ†ãƒ¼ãƒ–ãƒ« */
    table { width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 14px; }
    th,td { padding: 12px; border: 1px solid var(--border); text-align: left; }
    th { background: #f1f5f9; font-weight: 600; width: 30%; color: #334155; }

    /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ç³» */
    .input-group {
      background: #f8fafc;
      padding: 20px;
      border-radius: 8px;
      border: 1px dashed #cbd5e1;
      margin-top: 16px;
      transition: all 0.3s;
    }
    .input-group.filled {
      background: #f0fdf4;
      border-color: #86efac;
      border-style: solid;
    }
    .input-group label {
      display: block;
      font-weight: bold;
      font-size: 13px;
      margin-bottom: 8px;
      color: #475569;
    }
    .input-group input, .input-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      font-size: 14px;
      box-sizing: border-box;
      font-family: monospace;
    }
    .input-group textarea { height: 80px; resize: vertical; }
    .input-group input:focus, .input-group textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
    }
    .account-inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 12px;
    }

    /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ */
    pre {
      background: #1e293b;
      color: #f1f5f9;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 13px;
      margin: 16px 0;
    }
    code {
      background: #f1f5f9;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.9em;
      color: #0f1724;
    }

    /* ãƒœã‚¿ãƒ³ */
    .btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      font-size: 14px;
      transition: background 0.2s;
    }
    .btn:hover { background: #1d4ed8; }
    .btn-copy { font-size: 12px; padding: 4px 12px; margin-left: 8px; flex-shrink: 0; white-space: nowrap; }

    /* å¼•ç¶™ãã‚¨ãƒªã‚¢ */
    .handover-area {
      background: #1e293b;
      border-radius: 8px;
      padding: 24px;
      color: white;
      margin-top: 20px;
    }
    .handover-area h3 { color: white; border-color: #475569; margin-top: 0; }
    .handover-area textarea {
      background: #0f1724;
      color: #4ade80;
      border: 1px solid #334155;
    }

    /* Secretsãƒªã‚¹ãƒˆ */
    .secret-item {
      display: flex;
      align-items: center;
      background: #fff;
      border: 1px solid var(--border);
      border-bottom: none;
      padding: 12px;
    }
    .secret-item:last-child { border-bottom: 1px solid var(--border); }
    .secret-item:first-child { border-radius: 8px 8px 0 0; }
    .secret-item:last-child { border-radius: 0 0 8px 8px; }
    
    .secret-info { flex: 1; }
    .secret-key { font-weight: bold; font-size: 14px; color: var(--accent); font-family: monospace; }
    .secret-val-wrap { display: flex; gap: 8px; margin-top: 4px; }
    .secret-val-wrap input { 
      flex: 1; 
      background: #f8fafc; 
      border: 1px solid #e2e8f0; 
      padding: 4px 8px; 
      border-radius: 4px; 
      font-family: monospace;
      font-size: 12px;
      color: #64748b;
    }

    .note {
      background: #fffbeb;
      border-left: 4px solid #f59e0b;
      padding: 12px 16px;
      color: #92400e;
      font-size: 14px;
      margin: 16px 0;
    }

    /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ */
    .status-bar {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 300px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
      padding: 16px;
      z-index: 1000;
      border: 1px solid var(--border);
      display: none; /* JSã§è¡¨ç¤ºåˆ¶å¾¡ */
    }
    .status-bar.visible { display: block; animation: slideIn 0.3s ease; }
    @keyframes slideIn { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }
    
    .status-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .status-title { font-weight: bold; font-size: 14px; color: #1e293b; }
    .status-percent { font-weight: bold; font-size: 14px; color: var(--accent); }
    
    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ */
    .progress-container { position: relative; margin-bottom: 12px; height: 24px; }
    .progress-bg { 
      position: absolute; bottom: 0; left: 0;
      width: 100%; height: 6px; background: #f1f5f9; border-radius: 3px; overflow: visible; 
    }
    .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.5s ease; border-radius: 3px; }
    
    /* èµ°ã‚‹çŠ¬ */
    .runner {
      position: absolute;
      bottom: 6px; /* ãƒãƒ¼ã®ä¸Š */
      left: 0%;
      transform: translateX(-50%);
      transition: left 0.5s ease;
      font-size: 24px;
      line-height: 1;
      animation: bounce 0.5s infinite alternate;
      z-index: 2;
    }
    /* ã‚´ãƒ¼ãƒ« */
    .goal {
      position: absolute;
      right: 0;
      bottom: 6px;
      font-size: 24px;
      line-height: 1;
      transform: translateX(50%);
      z-index: 1;
    }

    @keyframes bounce { from { transform: translateX(-50%) translateY(0); } to { transform: translateX(-50%) translateY(-4px); } }
    @keyframes pop { 0% { transform: translateX(50%) scale(1); } 50% { transform: translateX(50%) scale(1.4); } 100% { transform: translateX(50%) scale(1); } }
    
    .status-msg { font-size: 12px; color: var(--muted); margin-bottom: 8px; }
    .missing-list { font-size: 11px; color: #ef4444; max-height: 80px; overflow-y: auto; }
    .missing-item { margin-bottom: 2px; display: flex; align-items: center; gap: 4px; }
    .missing-item::before { content: "â€¢"; }

    @media (max-width: 600px) {
      .account-inputs { grid-template-columns: 1fr; }
      .secret-item { flex-direction: column; align-items: stretch; gap: 8px; }
      .status-bar { left: 20px; width: auto; }
    }
  </style>
</head>
<body>

<div class="wrap">
  <header>
    <div class="logo">X</div>
    <div>
      <h1>Xè‡ªå‹•æŠ•ç¨¿Bot æ§‹ç¯‰æ‰‹é †æ›¸</h1>
      <div class="meta">Ver 3.2 - Role Based Manual</div>
    </div>
  </header>

  <div class="tabs">
    <button class="tab-btn active" onclick="showTab('satchin')">ğŸ‘©â€ğŸ’¼ ã•ã£ã¡ã‚“æ§˜ç”¨ (å…¥åŠ›ãƒ»ç”³è«‹)</button>
    <button class="tab-btn" onclick="showTab('engineer')">ğŸ‘¨â€ğŸ’» ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ (æ§‹ç¯‰ãƒ»è¨­å®š)</button>
  </div>

  <!-- ==========================================
       ã•ã£ã¡ã‚“æ§˜ç”¨ã‚¿ãƒ–
       ========================================== -->
  <div id="tab-satchin" class="tab-content active">
    
    <div class="note">
      <strong>ã¯ã˜ã‚ã«:</strong><br>
      ã“ã®ã‚¿ãƒ–ã®æ‰‹é †ã‚’ä¸Šã‹ã‚‰é †ã«é€²ã‚ã¦ãã ã•ã„ã€‚å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚<br>
      å³ä¸‹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã§é€²æ—ã‚’ç¢ºèªã§ãã¾ã™ã€‚
    </div>

    <!-- Phase 1: MLä½œæˆ -->
    <div class="card" id="step-ml">
      <span class="role-badge role-satchin">Step 1</span>
      <h2>ç®¡ç†ç”¨ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆMLï¼‰ã®ä½œæˆä¾é ¼</h2>
      <p>Botã®ç®¡ç†æ¨©é™ã‚’æŒã¤ãŸã‚ã®ã€Œãƒãƒ¼ãƒ ï¼ˆãƒ¡ãƒ¼ãƒªãƒ³ã‚°ãƒªã‚¹ãƒˆï¼‰ã€ã‚’ä½œã‚Šã¾ã™ã€‚<br>
      ç¤¾å†…ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¢ã‚¤ãƒ•ãƒ­ãƒ¼ç­‰ï¼‰ã‹ã‚‰ã€<strong>ãªã¿ã£ã´ã‚‡ï¼ˆInfraæ‹…å½“ï¼‰</strong> ã¸ä½œæˆã‚’ä¾é ¼ã—ã¦ãã ã•ã„ã€‚</p>
      
      <p><strong>ã€ç”¨é€”ã€‘</strong><br>
      GCPï¼ˆGoogle Cloudï¼‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†è€…ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚<br>
      ã“ã‚Œã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®å€‹äººã§ã¯ãªããƒãƒ¼ãƒ ã§Botã‚’ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>

      <table>
        <tr><th>ç”³è«‹é …ç›®</th><th>å†…å®¹</th></tr>
        <tr><td>MLã‚¢ãƒ‰ãƒ¬ã‚¹å</td><td>ä¾‹: <code>x-auto-post-admin@cocoloni.com</code></td></tr>
        <tr><td>ç”¨é€”</td><td>Xè‡ªå‹•æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã‚°ãƒ«ãƒ¼ãƒ—</td></tr>
        <tr><td>ãƒ¡ãƒ³ãƒãƒ¼</td><td><strong>ã•ã£ã¡ã‚“</strong> / <strong>ãªã¿ã£ã´ã‚‡</strong> / ãã®ä»–é–¢ä¿‚è€…</td></tr>
      </table>
      
      <div class="input-group">
        <label>â–¼ ä½œæˆã•ã‚ŒãŸMLã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</label>
        <input type="text" id="ml_address" placeholder="ä¾‹: x-auto-post-admin@cocoloni.com" data-required="MLã‚¢ãƒ‰ãƒ¬ã‚¹" />
      </div>
    </div>

    <!-- Phase 2: GCPè¨­å®š -->
    <div class="card" id="step-gcp">
      <span class="role-badge role-satchin">Step 2</span>
      <h2>Google Cloud (GCP) ã®è¨­å®š</h2>
      <p>Botã®å®Ÿä½“ã¨ãªã‚‹ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã¨ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚’ä½œæˆã—ã¾ã™ã€‚</p>

      <h3>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã¨æ¨©é™ä»˜ä¸</h3>
      <ol>
        <li><a href="https://console.cloud.google.com/" target="_blank">Google Cloud Console</a> ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ <code>x-auto-post-system</code> ã‚’ä½œæˆã—ã¾ã™ã€‚ï¼ˆçµ„ç¹”: cocoloni.comï¼‰</li>
        <li><strong>IAMã¨ç®¡ç† > IAM</strong> ã§ã€å…ˆã»ã©ä½œã£ãŸ <strong>MLã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã‚’è¿½åŠ ã—ã€ãƒ­ãƒ¼ãƒ«ã« <strong>ã‚ªãƒ¼ãƒŠãƒ¼</strong> ã‚’ä»˜ä¸ã—ã¾ã™ã€‚</li>
      </ol>

      <h3>2. APIæœ‰åŠ¹åŒ–ã¨Botã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ</h3>
      <ol>
        <li>æ¤œç´¢ãƒãƒ¼ã§ <strong>Google Sheets API</strong> ã¨ <strong>Google Drive API</strong> ã‚’æ¤œç´¢ã—ã€ãã‚Œãã‚Œæœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚</li>
        <li><strong>IAMã¨ç®¡ç† > ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong> ã§ <code>x-post-bot</code> ã¨ã„ã†åå‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</li>
        <li>ä½œæˆã—ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® <strong>ã‚­ãƒ¼</strong> ã‚¿ãƒ–ã‹ã‚‰ <strong>JSONã‚­ãƒ¼</strong> ã‚’æ–°è¦ä½œæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</li>
      </ol>
      
      <div class="input-group">
        <label>â–¼ Service Account JSON (ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’å…¨è²¼ã‚Šä»˜ã‘)</label>
        <textarea id="gcp_json" placeholder='{ "type": "service_account", ... }' data-required="GCP JSONã‚­ãƒ¼"></textarea>
        
        <label style="margin-top:12px;">â–¼ Botã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (x-post-bot@...)</label>
        <input type="text" id="bot_email" placeholder="x-post-bot@project-id.iam.gserviceaccount.com" data-required="Botãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" />
      </div>
    </div>

    <!-- Phase 3: Drive/Sheet -->
    <div class="card" id="step-sheet">
      <span class="role-badge role-satchin">Step 3</span>
      <h2>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¨ç”»åƒã®æº–å‚™</h2>
      
      <h3>1. ãƒ•ã‚©ãƒ«ãƒ€ã¨ã‚·ãƒ¼ãƒˆã®ä½œæˆ</h3>
      <ol>
        <li>Google Driveã«ã€ŒXæŠ•ç¨¿ç”¨ç”»åƒã€ãƒ•ã‚©ãƒ«ãƒ€ã¨ã€ã€ŒXæŠ•ç¨¿ç®¡ç†è¡¨ã€ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</li>
        <li>ä¸¡æ–¹ã¨ã‚‚ã€<strong>Botã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã«å¯¾ã—ã¦å…±æœ‰è¨­å®šï¼ˆç·¨é›†è€…æ¨©é™ï¼‰ã‚’è¡Œã„ã¾ã™ã€‚</li>
        <li>ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®1è¡Œç›®ã«ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½œæˆã—ã¾ã™: <br>
          <code>id</code>, <code>æ—¥ä»˜</code>, <code>æ™‚é–“</code>, <code>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</code>, <code>ãƒ†ã‚­ã‚¹ãƒˆ</code>, <code>ç”»åƒ</code>, <code>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</code>
        </li>
      </ol>
      
      <div class="input-group">
        <label>â–¼ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®URL</label>
        <input type="text" id="sheet_url" placeholder="https://docs.google.com/spreadsheets/d/..." data-required="ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆURL" />
      </div>
    </div>

    <!-- Phase 4: X Account -->
    <div class="card" id="step-x">
      <span class="role-badge role-satchin">Step 4</span>
      <h2>X (Twitter) ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æº–å‚™</h2>
      
      <h3>1. ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã®ç”¨æ„</h3>
      <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒèªè¨¼ä½œæ¥­ã‚’è¡Œã†ãŸã‚ã€å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
      <div class="input-group">
        <div class="account-inputs">
          <input type="text" id="acc_a_id" placeholder="æœ¬ç•ªA (ãƒãƒ£ãƒ—ãƒª) ID" data-required="æœ¬ç•ªA ID" />
          <input type="text" id="acc_a_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="æœ¬ç•ªA PW" />
        </div>
        <div class="account-inputs">
          <input type="text" id="acc_b_id" placeholder="æœ¬ç•ªB (ãƒ­ãƒãƒŸãƒŸ) ID" data-required="æœ¬ç•ªB ID" />
          <input type="text" id="acc_b_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="æœ¬ç•ªB PW" />
        </div>
        <div class="account-inputs">
          <input type="text" id="acc_test_id" placeholder="ãƒ†ã‚¹ãƒˆç”¨ ID" data-required="ãƒ†ã‚¹ãƒˆç”¨ ID" />
          <input type="text" id="acc_test_pw" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" data-required="ãƒ†ã‚¹ãƒˆç”¨ PW" />
        </div>
      </div>

      <h3>2. API Keyã®å–å¾—</h3>
      <p><a href="https://developer.twitter.com/en/portal/dashboard" target="_blank">Developer Portal</a> ã§ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã€Keys and tokensã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚</p>
      <div class="input-group">
        <label>â–¼ API Key</label>
        <input type="text" id="x_api_key" placeholder="API Key" style="margin-bottom:8px;" data-required="X API Key" />
        <label>â–¼ API Key Secret</label>
        <input type="text" id="x_api_secret" placeholder="API Key Secret" data-required="X API Secret" />
      </div>
    </div>

    <!-- Phase 5: GitHub Account -->
    <div class="card" id="step-github">
      <span class="role-badge role-satchin">Step 5</span>
      <h2>GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ</h2>
      <p>ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã¨ã€Œç®±ï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰ã€ã‚’ä½œæˆã—ã¾ã™ã€‚<br>
      MLã‚¢ãƒ‰ãƒ¬ã‚¹ã§ç™»éŒ²ã™ã‚‹ãŸã‚ã€ã•ã£ã¡ã‚“ã•ã‚“ãŒå®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚</p>

      <h3>1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ</h3>
      <ol>
        <li><a href="https://github.com/signup" target="_blank">GitHub Signup</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚</li>
        <li><strong>Enter your email:</strong> MLã‚¢ãƒ‰ãƒ¬ã‚¹ (<code>x-auto-post-admin@...</code>) ã‚’å…¥åŠ›ã—ã¾ã™ã€‚</li>
        <li><strong>Create a password:</strong> ä»»æ„ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™ã€‚<br>
          <span style="color:#e11d48; font-weight:bold;">â€»ã“ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å…±æœ‰ã™ã‚‹ãŸã‚ã€ä¸‹ã®å…¥åŠ›æ¬„ã«ã‚‚æ§ãˆã¦ãã ã•ã„ã€‚</span>
        </li>
        <li><strong>Enter a username:</strong> ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDã‚’æ±ºã‚ã¾ã™ï¼ˆä¾‹: <code>cocoloni-x-bot-2024</code> ç­‰ï¼‰ã€‚<br>
          <small>â€»ã“ã‚ŒãŒã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ã«ãªã‚Šã¾ã™ã€‚ä»–ã¨è¢«ã‚‰ãªã„ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªåå‰ãŒå¿…è¦ã§ã™ã€‚</small>
        </li>
        <li>æ¤œè¨¼ãƒ‘ã‚ºãƒ«ã‚’è§£ãã€<strong>Create account</strong> ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        <li>MLã«å±Šã„ãŸèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦å®Œäº†ã•ã›ã¾ã™ã€‚</li>
      </ol>

      <div class="input-group">
        <label>â–¼ è¨­å®šã—ãŸGitHubãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å…±æœ‰ç”¨)</label>
        <input type="text" id="github_pw" placeholder="è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" data-required="GitHubãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" />
      </div>

      <h3>2. ãƒªãƒã‚¸ãƒˆãƒªï¼ˆç®±ï¼‰ã®ä½œæˆ</h3>
      <ol>
        <li>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ç”»é¢å³ä¸Šã«ã‚ã‚‹ <strong>ã€Œï¼‹ã€ã‚¢ã‚¤ã‚³ãƒ³</strong> ã‹ã‚‰ <strong>New repository</strong> ã‚’é¸ã³ã¾ã™ã€‚</li>
        <li><strong>Repository name</strong> ã« <code>x-auto-post</code> ã¨å…¥åŠ›ã—ã¾ã™ã€‚</li>
        <li><strong>Public / Private</strong> ã®é¸æŠã§ã€å¿…ãš <strong style="color:#e11d48;">Private</strong> ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚<br>
          <small>â€»Privateã«ã—ãªã„ã¨ç¤¾å¤–ã«å…¬é–‹ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</small>
        </li>
        <li>ãã®ä»–ã¯å¤‰æ›´ã›ãšã€ç”»é¢ä¸‹ã® <strong>Create repository</strong> ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        <li>ä½œæˆå¾Œã®ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹URL (ä¾‹: <code>https://github.com/.../x-auto-post.git</code>) ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ä»¥ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</li>
      </ol>

      <div class="input-group">
        <label>â–¼ ä½œæˆã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªURL</label>
        <input type="text" id="repo_url" placeholder="https://github.com/ãƒ¦ãƒ¼ã‚¶ãƒ¼å/x-auto-post.git" data-required="ãƒªãƒã‚¸ãƒˆãƒªURL" />
      </div>

      <h3>3. é–‹ç™ºç”¨ãƒˆãƒ¼ã‚¯ãƒ³ã®ç™ºè¡Œ</h3>
      <p>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã€Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä»£ã‚ã‚Šã®éµï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã€ã‚’ç™ºè¡Œã—ã¾ã™ã€‚</p>
      <ol>
        <li>ç”»é¢å³ä¸Šã®ã‚¢ã‚¤ã‚³ãƒ³ > <strong>Settings</strong> > å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼æœ€ä¸‹éƒ¨ã® <strong>Developer settings</strong> ã‚’é–‹ãã¾ã™ã€‚</li>
        <li><strong>Personal access tokens</strong> > <strong>Tokens (classic)</strong> ã‚’é¸ã³ã€<strong>Generate new token (classic)</strong> ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        <li><strong>Note</strong> ã« <code>upload-key</code> ã¨å…¥åŠ›ã—ã€<strong>Expiration</strong>ï¼ˆæœ‰åŠ¹æœŸé™ï¼‰ã‚’ <strong>No expiration</strong>ï¼ˆç„¡æœŸé™ï¼‰ã«ã—ã¾ã™ã€‚</li>
        <li><strong>Select scopes</strong> ã§ <strong>repo</strong>ï¼ˆä¸€ç•ªä¸Šï¼‰ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã™ã€‚</li>
        <li>ç”»é¢ä¸‹ã® <strong>Generate token</strong> ã‚’æŠ¼ã—ã¾ã™ã€‚</li>
        <li><code>ghp_</code> ã‹ã‚‰å§‹ã¾ã‚‹æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒ”ãƒ¼ã—ã¦ä»¥ä¸‹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>
        <span style="color:#e11d48; font-weight:bold;">â€»ã“ã®ç”»é¢ã‚’é–‰ã˜ã‚‹ã¨äºŒåº¦ã¨è¡¨ç¤ºã•ã‚Œãªã„ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</span></li>
      </ol>

      <div class="input-group">
        <label>â–¼ ç™ºè¡Œã•ã‚ŒãŸGitHubãƒˆãƒ¼ã‚¯ãƒ³ (ghp_...)</label>
        <input type="text" id="github_token" placeholder="ghp_xxxxxxxxxxxx" data-required="GitHubãƒˆãƒ¼ã‚¯ãƒ³" />
      </div>
    </div>

    <!-- Phase 6: Handover -->
    <div class="card handover-area">
      <span class="role-badge role-satchin" style="background:white; color:#1e293b;">Last Step</span>
      <h2 style="color:white;">ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¸ã®å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</h2>
      <p style="color:#cbd5e1;">ã“ã“ã¾ã§å…¥åŠ›ã—ãŸæƒ…å ±ï¼ˆXã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã€API Keyã€GCPè¨­å®šå€¤ãªã©ï¼‰ãŒä»¥ä¸‹ã«è‡ªå‹•çš„ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚<br>
      <strong>ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«ç­‰ã§ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«é€ä»˜ã—ã¦ãã ã•ã„ã€‚</strong><br>
      <small>â€»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦è¨­å®šä½œæ¥­ã‚’è¡Œã„ã¾ã™ã€‚</small></p>
      
      <textarea id="handover_data" style="width:100%; height:200px;" readonly></textarea>
      <div style="margin-top:12px;">
        <button class="btn" onclick="copyHandoverData()">ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div>

  </div><!-- End satchin tab -->


  <!-- ==========================================
       ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ã‚¿ãƒ–
       ========================================== -->
  <div id="tab-engineer" class="tab-content">
    
    <div class="card" style="background:#1e293b; border-color:#334155; color:white;">
      <h2 style="color:white;">ğŸ”§ å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã®èª­è¾¼</h2>
      <p style="color:#cbd5e1;">ã•ã£ã¡ã‚“æ§˜ã‹ã‚‰å—é ˜ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br>
      è‡ªå‹•çš„ã«å…¥åŠ›æ¬„ã¸åæ˜ ã•ã‚Œã¾ã™ã€‚</p>
      <textarea id="import_data" placeholder="ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘..." style="width:100%; height:100px; background:#0f1724; border:1px solid #334155; color:#4ade80; padding:10px; border-radius:6px; font-family:monospace;"></textarea>
      <button class="btn" style="margin-top:12px;" onclick="importHandoverData()">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€</button>
    </div>

    <div class="card">
      <span class="role-badge role-engineer">Step 1</span>
      <h2>ã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…ã¨Push</h2>
      
      <p>ã•ã£ã¡ã‚“æ§˜ãŒä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã«ã€Botã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</p>

      <h3>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™ã¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®</h3>
      <pre><code># ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir x-auto-post && cd x-auto-post
git init

# ä»¥ä¸‹ã®æ§‹æˆã«ãªã‚‹ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„
x-auto-post/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ manual-test-post.yml
â”‚       â””â”€â”€ scheduled-post.yml
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ post_to_x_api.js
â””â”€â”€ get_twitter_tokens.js</code></pre>

      <div style="margin-bottom:20px;">
        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ package.json</summary>
          <pre><code>{
  "name": "x-auto-post",
  "version": "2.0.0",
  "description": "X (Twitter) è‡ªå‹•æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ",
  "main": "post_to_x_api.js",
  "scripts": {
    "start": "node post_to_x_api.js check",
    "test-post": "node post_to_x_api.js test",
    "get-tokens": "node get_twitter_tokens.js"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "dotenv": "^16.3.1",
    "googleapis": "^128.0.0",
    "twitter-api-v2": "^1.28.0"
  },
  "devDependencies": {
    "@types/node": "^20.10.0"
  }
}</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .gitignore</summary>
          <pre><code>node_modules/
.env
.DS_Store</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ post_to_x_api.js (ãƒ¡ã‚¤ãƒ³å‡¦ç†)</summary>
          <pre><code>// ã“ã“ã« post_to_x_api.js ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„
// (ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå¤šã„ã®ã§ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰å–å¾—æ¨å¥¨ã§ã™ãŒã€å¿…è¦ãªã‚‰ã“ã“ã«å…¨ã‚³ãƒ¼ãƒ‰è¼‰ã›ã¾ã™)</code></pre>
        </details>
        
        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ get_twitter_tokens.js (ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ç”¨)</summary>
          <pre><code>// ã“ã“ã« get_twitter_tokens.js ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .github/workflows/manual-test-post.yml</summary>
          <pre><code>name: Manual Test Post

on:
  workflow_dispatch:

jobs:
  test-post:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run Test Post
        env:
          SPREADSHEET_ID: ${{ secrets.SPREADSHEET_ID }}
          X_API_KEY: ${{ secrets.X_API_KEY }}
          X_API_SECRET: ${{ secrets.X_API_SECRET }}
          X_ACCESS_TOKEN_A: ${{ secrets.X_ACCESS_TOKEN_A }}
          X_ACCESS_SECRET_A: ${{ secrets.X_ACCESS_SECRET_A }}
          X_ACCESS_TOKEN_B: ${{ secrets.X_ACCESS_TOKEN_B }}
          X_ACCESS_SECRET_B: ${{ secrets.X_ACCESS_SECRET_B }}
          X_ACCESS_TOKEN_TEST: ${{ secrets.X_ACCESS_TOKEN_TEST }}
          X_ACCESS_SECRET_TEST: ${{ secrets.X_ACCESS_SECRET_TEST }}
          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}
        run: npm run test-post</code></pre>
        </details>

        <details style="margin-bottom:8px; background:#f1f5f9; border-radius:6px; padding:8px;">
          <summary style="cursor:pointer; font-weight:bold;">ğŸ“„ .github/workflows/scheduled-post.yml</summary>
          <pre><code>name: Scheduled Post

on:
  schedule:
    - cron: '*/30 * * * *'
  workflow_dispatch:

jobs:
  check-and-post:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run Post Check
        env:
          SPREADSHEET_ID: ${{ secrets.SPREADSHEET_ID }}
          X_API_KEY: ${{ secrets.X_API_KEY }}
          X_API_SECRET: ${{ secrets.X_API_SECRET }}
          X_ACCESS_TOKEN_A: ${{ secrets.X_ACCESS_TOKEN_A }}
          X_ACCESS_SECRET_A: ${{ secrets.X_ACCESS_SECRET_A }}
          X_ACCESS_TOKEN_B: ${{ secrets.X_ACCESS_TOKEN_B }}
          X_ACCESS_SECRET_B: ${{ secrets.X_ACCESS_SECRET_B }}
          X_ACCESS_TOKEN_TEST: ${{ secrets.X_ACCESS_TOKEN_TEST }}
          X_ACCESS_SECRET_TEST: ${{ secrets.X_ACCESS_SECRET_TEST }}
          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}
        run: npm start</code></pre>
        </details>
      </div>

      <pre><code># ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install</code></pre>

      <h3>2. GitHubã¸ã®Push</h3>
      <p>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚<br>
      â€»èªè¨¼ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸå ´åˆã¯ã€å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã® <strong>[GITHUB_INFO]</strong> ã«ã‚ã‚‹IDã‚’ä½¿ç”¨ã—ã€<strong>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¬„ã«ã¯ã€Œãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</strong></p>
      
      <div class="input-group" style="margin-bottom:16px;">
         <label>â–¼ ãƒªãƒã‚¸ãƒˆãƒªURL (è‡ªå‹•å…¥åŠ›)</label>
         <input type="text" id="repo_url_display" readonly style="background:#e2e8f0; color:#64748b; margin-bottom:8px;" />
         
         <label>â–¼ èªè¨¼ç”¨ãƒˆãƒ¼ã‚¯ãƒ³ (è‡ªå‹•å…¥åŠ›: ã“ã‚Œã‚’ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨)</label>
         <div style="display:flex; gap:8px;">
           <input type="text" id="github_token_display" readonly style="background:#e2e8f0; color:#64748b;" />
           <button class="btn btn-copy" onclick="copy(document.getElementById('github_token_display').value)">ã‚³ãƒ”ãƒ¼</button>
         </div>
      </div>

      <pre><code>git add .
git commit -m "Initial commit"
git branch -M main

# ãƒªãƒ¢ãƒ¼ãƒˆç™»éŒ² (URLã¯ä¸Šè¨˜ã®ã‚‚ã®ã‚’ä½¿ç”¨)
git remote add origin <span id="repo_url_cmd">https://github.com/...</span>

git push -u origin main</code></pre>
    </div>

    <div class="card">
      <span class="role-badge role-engineer">Step 2</span>
      <h2>èªè¨¼æƒ…å ±ã®ç™»éŒ² (GitHub Secrets)</h2>
      
      <h3>1. ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—</h3>
      <p>å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã€ãã‚Œãã‚Œã®æ¬„ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>
      <small>â€»ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆãªãŒã‚‰ã€<code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</small></p>

      <div style="margin-top:24px;">
        <h4 style="border-bottom:2px solid #e2e8f0; padding-bottom:4px; margin-bottom:12px; color:#334155;">â‘  æœ¬ç•ªA (ãƒãƒ£ãƒ—ãƒª) ã®è¨­å®š</h4>
        <ol style="font-size:14px; color:#475569; margin-bottom:12px;">
          <li>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <strong>æœ¬ç•ªAã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong> ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚</li>
          <li><code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã€èªè¨¼ã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¾ã™ã€‚</li>
          <li>è¡¨ç¤ºã•ã‚ŒãŸ <strong>Access Token</strong> ã¨ <strong>Secret</strong> ã‚’ä»¥ä¸‹ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</li>
        </ol>
        <div class="input-group" style="background:#f0f9ff; border-color:#bae6fd;">
          <label>â–¼ æœ¬ç•ªA (ãƒãƒ£ãƒ—ãƒª) Token / Secret</label>
          <div class="secret-val-wrap">
            <input type="text" id="token_a" placeholder="Access Token" />
            <input type="text" id="secret_a" placeholder="Secret" />
          </div>
        </div>
      </div>

      <div style="margin-top:24px;">
        <h4 style="border-bottom:2px solid #e2e8f0; padding-bottom:4px; margin-bottom:12px; color:#334155;">â‘¡ æœ¬ç•ªB (ãƒ­ãƒãƒŸãƒŸ) ã®è¨­å®š</h4>
        <ol style="font-size:14px; color:#475569; margin-bottom:12px;">
          <li>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <strong>æœ¬ç•ªBã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong> ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ï¼‰ã€‚</li>
          <li>å†åº¦ <code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã€èªè¨¼ã—ã¾ã™ã€‚</li>
          <li>è¡¨ç¤ºã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä»¥ä¸‹ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</li>
        </ol>
        <div class="input-group" style="background:#f0f9ff; border-color:#bae6fd;">
          <label>â–¼ æœ¬ç•ªB (ãƒ­ãƒãƒŸãƒŸ) Token / Secret</label>
          <div class="secret-val-wrap">
            <input type="text" id="token_b" placeholder="Access Token" />
            <input type="text" id="secret_b" placeholder="Secret" />
          </div>
        </div>
      </div>

      <div style="margin-top:24px; margin-bottom:24px;">
        <h4 style="border-bottom:2px solid #e2e8f0; padding-bottom:4px; margin-bottom:12px; color:#334155;">â‘¢ ãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¨­å®š</h4>
        <ol style="font-size:14px; color:#475569; margin-bottom:12px;">
          <li>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <strong>ãƒ†ã‚¹ãƒˆç”¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong> ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</li>
          <li>å†åº¦ <code>npm run get-tokens</code> ã‚’å®Ÿè¡Œã—ã€èªè¨¼ã—ã¾ã™ã€‚</li>
          <li>è¡¨ç¤ºã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä»¥ä¸‹ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</li>
        </ol>
        <div class="input-group" style="background:#f0f9ff; border-color:#bae6fd;">
          <label>â–¼ ãƒ†ã‚¹ãƒˆç”¨ Token / Secret</label>
          <div class="secret-val-wrap">
            <input type="text" id="token_test" placeholder="Access Token" />
            <input type="text" id="secret_test" placeholder="Secret" />
          </div>
        </div>
      </div>



      <h3>2. Secretsã¸ã®ç™»éŒ²</h3>
      <p>GitHub Settings > Secrets > Actions ã«ä»¥ä¸‹ã‚’ç™»éŒ²ã—ã¾ã™ã€‚</p>
      
      <div id="secrets_list_container">
        <!-- Generated via JS -->
      </div>
    </div>

  </div><!-- End engineer tab -->

  <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ -->
  <div id="status_bar" class="status-bar">
    <div class="status-header">
      <span class="status-title">ğŸ“ å…¥åŠ›çŠ¶æ³</span>
      <span class="status-percent" id="status_percent">0%</span>
    </div>
    
    <div class="progress-container">
      <div class="progress-bg">
        <div class="progress-fill" id="progress_fill"></div>
      </div>
      <div class="runner" id="runner">ğŸ¶</div>
      <div class="goal" id="goal">ğŸ</div>
    </div>

    <div class="status-msg" id="status_msg">æœªå…¥åŠ›ã®é …ç›®ãŒã‚ã‚Šã¾ã™</div>
    <div class="missing-list" id="missing_list"></div>
  </div>

  <footer>
    X Auto Post System Setup Guide
  </footer>

</div>

<script>
// --- ã‚¿ãƒ–åˆ¶å¾¡ ---
function showTab(role) {
  document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
  document.getElementById('tab-' + role).classList.add('active');
  // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
  const btns = document.querySelectorAll('.tab-btn');
  if(role === 'satchin') {
    btns[0].classList.add('active');
    document.getElementById('status_bar').classList.add('visible');
  } else {
    btns[1].classList.add('active');
    document.getElementById('status_bar').classList.remove('visible');
  }
}

// --- ãƒ‡ãƒ¼ã‚¿ç®¡ç† ---
const fields = [
  'ml_address', 'gcp_json', 'bot_email', 'sheet_url', 
  'acc_a_id', 'acc_a_pw', 'acc_b_id', 'acc_b_pw', 'acc_test_id', 'acc_test_pw',
  'x_api_key', 'x_api_secret',
  'github_pw', 'repo_url', 'github_token',
  'token_a', 'secret_a', 'token_b', 'secret_b', 'token_test', 'secret_test'
];

window.addEventListener('DOMContentLoaded', () => {
  fields.forEach(id => {
    const el = document.getElementById(id);
    if(el) {
      const saved = localStorage.getItem('xbot_v3_' + id);
      if(saved) el.value = saved;
      
      el.addEventListener('input', () => {
        localStorage.setItem('xbot_v3_' + id, el.value);
        refreshData();
      });
    }
  });
  refreshData();
  showTab('satchin'); // åˆæœŸè¡¨ç¤º
});

function refreshData() {
  updateHandoverText();
  updateEngineerView();
  updateStatus(); // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
}

function updateStatus() {
  const requiredIds = [
    'ml_address', 'gcp_json', 'bot_email', 'sheet_url', 
    'acc_a_id', 'acc_a_pw', 'acc_b_id', 'acc_b_pw', 'acc_test_id', 'acc_test_pw',
    'x_api_key', 'x_api_secret', 'github_pw', 'repo_url', 'github_token'
  ];
  
  let filledCount = 0;
  let missing = [];
  
  requiredIds.forEach(id => {
    const el = document.getElementById(id);
    const val = el.value.trim();
    const group = el.closest('.input-group');
    
    if(val) {
      filledCount++;
      if(group) group.classList.add('filled');
    } else {
      if(group) group.classList.remove('filled');
      missing.push(el.getAttribute('data-required') || id);
    }
  });

  const percent = Math.round((filledCount / requiredIds.length) * 100);
  document.getElementById('status_percent').innerText = percent + '%';
  document.getElementById('progress_fill').style.width = percent + '%';
  
  // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç§»å‹• (0%ã€œ100%)
  const runner = document.getElementById('runner');
  const goal = document.getElementById('goal');
  
  // ã†ã•ãã®ä½ç½®æ›´æ–°
  runner.style.left = percent + '%';

  const msgEl = document.getElementById('status_msg');
  const listEl = document.getElementById('missing_list');
  
  if(percent === 100) {
    msgEl.innerText = "ğŸ‰ ã™ã¹ã¦ã®å…¥åŠ›ãŒå®Œäº†ã—ã¾ã—ãŸï¼";
    msgEl.style.color = "#059669";
    msgEl.style.fontWeight = "bold";
    listEl.innerHTML = "";
    
    // ã‚´ãƒ¼ãƒ«æ¼”å‡º
    goal.innerHTML = "ğŸ‰"; 
    goal.style.animation = "pop 0.6s ease";
    
    // çŠ¬æ¼”å‡º (å–œã³)
    runner.innerHTML = "ğŸ¶"; // å®Œäº†æ™‚
    // å°‘ã—å·¦ã«ãšã‚‰ã—ã¦ã‚´ãƒ¼ãƒ«ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ãªã‚‰ã“ã“ã‚’èª¿æ•´
    runner.style.left = "calc(100% - 25px)"; 
    runner.style.animation = "bounce 0.3s infinite alternate"; // æ—©ãè·³ã­ã‚‹
  } else {
    msgEl.innerText = `æ®‹ã‚Š ${missing.length} é …ç›®ãŒæœªå…¥åŠ›ã§ã™`;
    msgEl.style.color = "#64748b";
    listEl.innerHTML = missing.map(m => `<div class="missing-item">${m}</div>`).join('');
    
    // é€šå¸¸çŠ¶æ…‹
    goal.innerHTML = "ğŸ";
    goal.style.animation = "none";
    runner.innerHTML = "ğŸ¶"; // èµ°ã‚‹
    runner.style.animation = "bounce 0.5s infinite alternate";
  }
}

function updateHandoverText() {
  const get = (id) => document.getElementById(id)?.value || '';
  
  let txt = "ã€Xè‡ªå‹•æŠ•ç¨¿Bot å¼•ç¶™ããƒ‡ãƒ¼ã‚¿ã€‘\nã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ§˜ç”¨ã‚¿ãƒ–ã®èª­è¾¼æ¬„ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚\n\n";
  
  txt += `[LOGIN_INFO]\nAccount A: ${get('acc_a_id')} / ${get('acc_a_pw')}\nAccount B: ${get('acc_b_id')} / ${get('acc_b_pw')}\nAccount TEST: ${get('acc_test_id')} / ${get('acc_test_pw')}\n\n`;
  
  txt += `[GITHUB_INFO]\nPassword: ${get('github_pw')}\nToken: ${get('github_token')}\nRepo URL: ${get('repo_url')}\n\n`;

  const saveKeys = ['ml_address', 'gcp_json', 'bot_email', 'sheet_url', 'x_api_key', 'x_api_secret'];
  saveKeys.forEach(k => {
    txt += `[${k.toUpperCase()}]\n${get(k)}\n\n`;
  });

  document.getElementById('handover_data').value = txt;
}

function updateEngineerView() {
  const get = (id) => document.getElementById(id)?.value || '';
  
  // ãƒªãƒã‚¸ãƒˆãƒªURLè¡¨ç¤º
  const repoUrl = get('repo_url');
  if(repoUrl) {
    const disp = document.getElementById('repo_url_display');
    if(disp) disp.value = repoUrl;
    
    const cmd = document.getElementById('repo_url_cmd');
    if(cmd) cmd.innerText = repoUrl;
  }
  
  // ãƒˆãƒ¼ã‚¯ãƒ³è¡¨ç¤º
  const token = get('github_token');
  if(token) {
    const disp = document.getElementById('github_token_display');
    if(disp) disp.value = token;
  }

  // Secretsãƒªã‚¹ãƒˆç”Ÿæˆ
  let sheetId = '';
  const match = get('sheet_url').match(/\/d\/([a-zA-Z0-9-_]+)/);
  if(match) sheetId = match[1];

  const secrets = [
    { k: 'GOOGLE_SERVICE_ACCOUNT_JSON', v: get('gcp_json') },
    { k: 'SPREADSHEET_ID', v: sheetId },
    { k: 'X_API_KEY', v: get('x_api_key') },
    { k: 'X_API_SECRET', v: get('x_api_secret') },
    { k: 'X_ACCESS_TOKEN_A', v: get('token_a') },
    { k: 'X_ACCESS_SECRET_A', v: get('secret_a') },
    { k: 'X_ACCESS_TOKEN_B', v: get('token_b') },
    { k: 'X_ACCESS_SECRET_B', v: get('secret_b') },
    { k: 'X_ACCESS_TOKEN_TEST', v: get('token_test') },
    { k: 'X_ACCESS_SECRET_TEST', v: get('secret_test') },
  ];

  const container = document.getElementById('secrets_list_container');
  container.innerHTML = secrets.map(s => `
    <div class="secret-item">
      <div class="secret-info">
        <div class="secret-key">${s.k}</div>
        <div class="secret-val-wrap">
          <input type="text" value="${s.v}" readonly onclick="this.select()">
        </div>
      </div>
      <div style="display:flex; flex-direction:column; gap:4px;">
        <button class="btn btn-copy" onclick="copy('${s.k}')">åå‰ã‚³ãƒ”ãƒ¼</button>
        <button class="btn btn-copy" onclick="copy(\`${s.v.replace(/`/g, '\\`')}\`)">å€¤ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div>
  `).join('');
}

function importHandoverData() {
  const txt = document.getElementById('import_data').value;
  if(!txt) return;

  const parse = (tag) => {
    const m = txt.match(new RegExp(`\\[${tag}\\]\\n(.*?)(?=\\n\\n|\\[|$)`, 's'));
    return m ? m[1].trim() : '';
  };

  // ã‚·ãƒ³ãƒ—ãƒ«ãªé …ç›®ã®å¾©å…ƒ
  const map = {
    'ML_ADDRESS': 'ml_address',
    'GCP_JSON': 'gcp_json',
    'BOT_EMAIL': 'bot_email',
    'SHEET_URL': 'sheet_url',
    'X_API_KEY': 'x_api_key',
    'X_API_SECRET': 'x_api_secret'
  };
  
  for(let k in map) {
    const val = parse(k);
    if(val) document.getElementById(map[k]).value = val;
  }

  // GitHubæƒ…å ±ã®å¾©å…ƒ
  const ghInfo = parse('GITHUB_INFO');
  if(ghInfo) {
    const pwMatch = ghInfo.match(/Password: (.*)/);
    if(pwMatch) document.getElementById('github_pw').value = pwMatch[1];
    const tokenMatch = ghInfo.match(/Token: (.*)/);
    if(tokenMatch) document.getElementById('github_token').value = tokenMatch[1];
    const urlMatch = ghInfo.match(/Repo URL: (.*)/);
    if(urlMatch) document.getElementById('repo_url').value = urlMatch[1];
  }

  // ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã®å¾©å…ƒ
  const loginTxt = parse('LOGIN_INFO');
  if(loginTxt) {
    loginTxt.split('\n').forEach(line => {
      if(line.includes('Account A')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_a_id').value = p[0];
        document.getElementById('acc_a_pw').value = p[1];
      }
      if(line.includes('Account B')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_b_id').value = p[0];
        document.getElementById('acc_b_pw').value = p[1];
      }
      if(line.includes('Account TEST')) {
        const p = line.split(': ')[1].split(' / ');
        document.getElementById('acc_test_id').value = p[0];
        document.getElementById('acc_test_pw').value = p[1];
      }
    });
  }

  refreshData();
  alert('ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼\nä¸‹ã®æ¬„ã«æƒ…å ±ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
}

function copyHandoverData() {
  const el = document.getElementById('handover_data');
  el.select();
  document.execCommand('copy');
  alert('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
}

function copy(txt) {
  if(!txt) return;
  const t = document.createElement('textarea');
  t.value = txt;
  document.body.appendChild(t);
  t.select();
  document.execCommand('copy');
  document.body.removeChild(t);
}
</script>

</body>
</html>