# GAS（Google Apps Script）ログの確認方法

## 📋 ログを確認する手順

### 方法1: メニューから実行ログを開く（推奨）

1. **Google Apps Script エディタを開く**
   - スプレッドシート → 拡張機能 → Apps Script

2. **メニューから実行ログを開く**
   - エディタ上部のメニューで **「表示」** → **「実行ログ」** をクリック
   - または、キーボードショートカット:
     - **Mac**: `Cmd + Enter`（`⌘ + ⏎`）
     - **Windows/Linux**: `Ctrl + Enter`（`Ctrl + ⏎`）

3. **関数を実行**
   - `debugCheck()` 関数を選択
   - 「実行」ボタンをクリック（▶️ アイコン）
   - または、キーボードショートカットで実行

4. **ログを確認**
   - エディタ下部に実行ログが表示されます
   - `Logger.log()` で出力した内容が表示されます

### 方法2: 実行中に自動でログを表示

- 関数を実行すると、自動的に実行ログが下部に表示される場合があります
- 表示されない場合は、上記の方法1で手動で開いてください

## 🔍 ログの内容例

正常に動作している場合、以下のようなログが表示されます：

```
=== デバッグ情報 開始 ===
実行時刻: Mon Dec 25 2023 10:30:00 GMT+0900
✅ スプレッドシートtow取得成功: 投稿管理シート

--- configシートの確認 ---
📋 configシートの行数: 5
  - github_repo: ***
  - github_token: ***
  - slack_webhook_url: ***
✅ config読み込み完了: 5項目
設定項目数: 5
設定された項目:
  - github_repo: canly/x-aut
  - slack_webhook_url: https://...

--- postsシートの確認 ---
✅ postsシートが見つかりました
postsシートの行数: 3
ヘッダー: 日付 | 時間 | テキスト | 好意 | 投稿済み | Slack
データ行数: 2
行2: 2023-12-25 | 10:00 | テスト投稿 | fileId123 | FALSE |
行3: 2023-12-26 | 14:00 | 別の投稿 | fileId456 | FALSE |

=== デバッグ情報 終了 ===
```

## ⚠️ エラーが表示される場合

エラーが発生している場合、以下のようなログが表示されます：

```
❌ configシート取得エラー: TypeError: Cannot read property 'getName' of null
エラー詳細: ...
```

この場合、エラーメッセージとスタックトレースを確認してください。

## 💡 よくある問題

### ログが表示されない

- **原因**: 実行ログが開かれていない
- **対処**: 「表示」→「実行ログ」をクリック

### ログが古い

- **原因**: 古い実行結果が表示されている
- **対処**: 関数を再実行するか、ログをクリア（新しい実行で上書きされます）

### エラーメッセージしか表示されない

- **原因**: 関数が途中でエラーになっている
- **対処**: 
  1. エラーメッセージを確認
  2. 改善版コードでは、各処理でtry-catchを使用しているため、どの部分でエラーが発生したかが分かります
  3. エラーの詳細をメモして、修正が必要です

## 📝 デバッグのコツ

1. **`debugCheck()` 関数を使用**
   - すべての設定とデータを一覧表示
   - エラーハンドリング付きで安全

2. **個別に関数を実行**
   - `getConfig()` だけを実行してconfigの読み込みを確認
   - `autoCheckPosts()` を実行して投稿チェックを確認

3. **ログレベルを活用**
   - `Logger.log()` で詳細な情報を出力
   - エラー時は `Logger.log('❌ ...')` で見つけやすく

## 🔗 関連情報

- Google Apps Script の Logger クラス: https://developers.google.com/apps-script/reference/base/logger
- 実行ログの詳細: https://developers.google.com/apps-script/guides/support/troubleshooting#viewing_logs

